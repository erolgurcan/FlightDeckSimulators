2023-03-03 12:29:21.657 -08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-03 12:31:28.331 -08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-03 12:31:28.833 -08:00 [INF] Entity Framework Core 6.0.13 initialized 'UserDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.13' with options: None
2023-03-03 12:31:28.838 -08:00 [DBG] 'UserDBContext' disposed.
2023-03-03 12:31:42.855 -08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-03 12:31:43.314 -08:00 [INF] Entity Framework Core 6.0.13 initialized 'UserDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.13' with options: None
2023-03-03 12:31:43.427 -08:00 [DBG] DetectChanges starting for 'UserDBContext'.
2023-03-03 12:31:43.429 -08:00 [DBG] DetectChanges completed for 'UserDBContext'.
2023-03-03 12:31:43.504 -08:00 [DBG] 'UserDBContext' disposed.
2023-03-03 12:32:36.322 -08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-03 12:32:36.782 -08:00 [INF] Entity Framework Core 6.0.13 initialized 'UserDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.13' with options: None
2023-03-03 12:32:36.817 -08:00 [DBG] 'UserDBContext' disposed.
2023-03-03 12:34:04.389 -08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-03 12:34:04.849 -08:00 [INF] Entity Framework Core 6.0.13 initialized 'UserDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.13' with options: None
2023-03-03 12:34:04.949 -08:00 [DBG] DetectChanges starting for 'UserDBContext'.
2023-03-03 12:34:04.951 -08:00 [DBG] DetectChanges completed for 'UserDBContext'.
2023-03-03 12:34:04.952 -08:00 [DBG] DetectChanges starting for 'UserDBContext'.
2023-03-03 12:34:04.952 -08:00 [DBG] DetectChanges completed for 'UserDBContext'.
2023-03-03 12:34:04.957 -08:00 [DBG] DetectChanges starting for 'UserDBContext'.
2023-03-03 12:34:04.957 -08:00 [DBG] DetectChanges completed for 'UserDBContext'.
2023-03-03 12:34:04.957 -08:00 [DBG] DetectChanges starting for 'UserDBContext'.
2023-03-03 12:34:04.957 -08:00 [DBG] DetectChanges completed for 'UserDBContext'.
2023-03-03 12:34:05.014 -08:00 [DBG] 'UserDBContext' disposed.
2023-03-03 12:38:56.961 -08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-03 12:38:57.423 -08:00 [INF] Entity Framework Core 6.0.13 initialized 'UserDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.13' with options: None
2023-03-03 12:38:57.511 -08:00 [DBG] DetectChanges starting for 'UserDBContext'.
2023-03-03 12:38:57.513 -08:00 [DBG] DetectChanges completed for 'UserDBContext'.
2023-03-03 12:38:57.514 -08:00 [DBG] DetectChanges starting for 'UserDBContext'.
2023-03-03 12:38:57.514 -08:00 [DBG] DetectChanges completed for 'UserDBContext'.
2023-03-03 12:38:57.567 -08:00 [DBG] 'UserDBContext' disposed.
2023-03-03 12:42:48.319 -08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-03 12:42:48.771 -08:00 [INF] Entity Framework Core 6.0.13 initialized 'UserDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.13' with options: None
2023-03-03 12:42:48.847 -08:00 [DBG] DetectChanges starting for 'UserDBContext'.
2023-03-03 12:42:48.849 -08:00 [DBG] DetectChanges completed for 'UserDBContext'.
2023-03-03 12:42:48.850 -08:00 [DBG] DetectChanges starting for 'UserDBContext'.
2023-03-03 12:42:48.850 -08:00 [DBG] DetectChanges completed for 'UserDBContext'.
2023-03-03 12:42:49.025 -08:00 [DBG] Opening connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 12:42:50.058 -08:00 [DBG] Opened connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 12:42:50.062 -08:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-03-03 12:42:50.069 -08:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2023-03-03 12:42:50.076 -08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-03-03 12:42:50.164 -08:00 [INF] Executed DbCommand (88ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-03-03 12:42:50.165 -08:00 [DBG] Closing connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 12:42:50.168 -08:00 [DBG] Closed connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 12:42:50.174 -08:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-03-03 12:42:50.175 -08:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-03-03 12:42:50.175 -08:00 [DBG] Opening connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 12:42:50.175 -08:00 [DBG] Opened connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 12:42:50.175 -08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-03-03 12:42:50.256 -08:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-03-03 12:42:50.256 -08:00 [DBG] Closing connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 12:42:50.257 -08:00 [DBG] Closed connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 12:42:50.298 -08:00 [DBG] 'UserDBContext' disposed.
2023-03-03 12:43:11.436 -08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-03 12:43:11.917 -08:00 [INF] Entity Framework Core 6.0.13 initialized 'AirlinerDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.13' with options: None
2023-03-03 12:43:12.029 -08:00 [DBG] Context 'AirlinerDBContext' started tracking 'Airliner' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-03 12:43:12.040 -08:00 [DBG] Context 'AirlinerDBContext' started tracking 'Airliner' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-03 12:43:12.059 -08:00 [DBG] An entity of type 'Airliner' tracked by 'AirlinerDBContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-03 12:43:12.073 -08:00 [DBG] DetectChanges starting for 'AirlinerDBContext'.
2023-03-03 12:43:12.079 -08:00 [DBG] DetectChanges completed for 'AirlinerDBContext'.
2023-03-03 12:43:12.079 -08:00 [DBG] DetectChanges starting for 'AirlinerDBContext'.
2023-03-03 12:43:12.079 -08:00 [DBG] DetectChanges completed for 'AirlinerDBContext'.
2023-03-03 12:43:12.112 -08:00 [DBG] Opening connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 12:43:12.775 -08:00 [DBG] Opened connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 12:43:12.778 -08:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-03-03 12:43:12.783 -08:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2023-03-03 12:43:12.789 -08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-03-03 12:43:12.875 -08:00 [INF] Executed DbCommand (87ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-03-03 12:43:12.877 -08:00 [DBG] Closing connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 12:43:12.880 -08:00 [DBG] Closed connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 12:43:12.886 -08:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-03-03 12:43:12.886 -08:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-03-03 12:43:12.886 -08:00 [DBG] Opening connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 12:43:12.886 -08:00 [DBG] Opened connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 12:43:12.887 -08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-03-03 12:43:12.965 -08:00 [INF] Executed DbCommand (78ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-03-03 12:43:12.965 -08:00 [DBG] Closing connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 12:43:12.965 -08:00 [DBG] Closed connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 12:43:13.005 -08:00 [DBG] 'AirlinerDBContext' disposed.
2023-03-03 12:43:44.144 -08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-03 12:43:44.602 -08:00 [INF] Entity Framework Core 6.0.13 initialized 'FlightDataDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.13' with options: None
2023-03-03 12:43:44.680 -08:00 [DBG] DetectChanges starting for 'FlightDataDBContext'.
2023-03-03 12:43:44.682 -08:00 [DBG] DetectChanges completed for 'FlightDataDBContext'.
2023-03-03 12:43:44.683 -08:00 [DBG] DetectChanges starting for 'FlightDataDBContext'.
2023-03-03 12:43:44.683 -08:00 [DBG] DetectChanges completed for 'FlightDataDBContext'.
2023-03-03 12:43:44.719 -08:00 [DBG] Opening connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 12:43:45.435 -08:00 [DBG] Opened connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 12:43:45.439 -08:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-03-03 12:43:45.444 -08:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2023-03-03 12:43:45.451 -08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-03-03 12:43:45.538 -08:00 [INF] Executed DbCommand (87ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-03-03 12:43:45.539 -08:00 [DBG] Closing connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 12:43:45.542 -08:00 [DBG] Closed connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 12:43:45.548 -08:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-03-03 12:43:45.548 -08:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-03-03 12:43:45.548 -08:00 [DBG] Opening connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 12:43:45.549 -08:00 [DBG] Opened connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 12:43:45.549 -08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-03-03 12:43:45.628 -08:00 [INF] Executed DbCommand (79ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-03-03 12:43:45.628 -08:00 [DBG] Closing connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 12:43:45.629 -08:00 [DBG] Closed connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 12:43:45.669 -08:00 [DBG] 'FlightDataDBContext' disposed.
2023-03-03 12:44:20.923 -08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-03 12:44:21.381 -08:00 [INF] Entity Framework Core 6.0.13 initialized 'UserDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.13' with options: None
2023-03-03 12:44:21.415 -08:00 [DBG] 'UserDBContext' disposed.
2023-03-03 12:44:56.560 -08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-03 12:44:57.016 -08:00 [INF] Entity Framework Core 6.0.13 initialized 'UserDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.13' with options: None
2023-03-03 12:44:57.102 -08:00 [DBG] DetectChanges starting for 'UserDBContext'.
2023-03-03 12:44:57.104 -08:00 [DBG] DetectChanges completed for 'UserDBContext'.
2023-03-03 12:44:57.104 -08:00 [DBG] DetectChanges starting for 'UserDBContext'.
2023-03-03 12:44:57.105 -08:00 [DBG] DetectChanges completed for 'UserDBContext'.
2023-03-03 12:44:57.159 -08:00 [DBG] 'UserDBContext' disposed.
2023-03-03 12:45:22.331 -08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-03 12:45:22.806 -08:00 [INF] Entity Framework Core 6.0.13 initialized 'AirlinerDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.13' with options: None
2023-03-03 12:45:22.936 -08:00 [DBG] Context 'AirlinerDBContext' started tracking 'Airliner' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-03 12:45:22.953 -08:00 [DBG] Context 'AirlinerDBContext' started tracking 'Airliner' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-03 12:45:22.972 -08:00 [DBG] An entity of type 'Airliner' tracked by 'AirlinerDBContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-03 12:45:22.986 -08:00 [DBG] DetectChanges starting for 'AirlinerDBContext'.
2023-03-03 12:45:22.991 -08:00 [DBG] DetectChanges completed for 'AirlinerDBContext'.
2023-03-03 12:45:22.992 -08:00 [DBG] DetectChanges starting for 'AirlinerDBContext'.
2023-03-03 12:45:22.992 -08:00 [DBG] DetectChanges completed for 'AirlinerDBContext'.
2023-03-03 12:45:22.995 -08:00 [DBG] Context 'AirlinerDBContext' started tracking 'Airliner' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-03 12:45:22.995 -08:00 [DBG] Context 'AirlinerDBContext' started tracking 'Airliner' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-03 12:45:22.995 -08:00 [DBG] An entity of type 'Airliner' tracked by 'AirlinerDBContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-03 12:45:22.995 -08:00 [DBG] DetectChanges starting for 'AirlinerDBContext'.
2023-03-03 12:45:22.995 -08:00 [DBG] DetectChanges completed for 'AirlinerDBContext'.
2023-03-03 12:45:22.995 -08:00 [DBG] DetectChanges starting for 'AirlinerDBContext'.
2023-03-03 12:45:22.995 -08:00 [DBG] DetectChanges completed for 'AirlinerDBContext'.
2023-03-03 12:45:23.057 -08:00 [DBG] 'AirlinerDBContext' disposed.
2023-03-03 12:45:42.858 -08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-03 12:45:43.311 -08:00 [INF] Entity Framework Core 6.0.13 initialized 'FlightDataDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.13' with options: None
2023-03-03 12:45:43.398 -08:00 [DBG] DetectChanges starting for 'FlightDataDBContext'.
2023-03-03 12:45:43.400 -08:00 [DBG] DetectChanges completed for 'FlightDataDBContext'.
2023-03-03 12:45:43.401 -08:00 [DBG] DetectChanges starting for 'FlightDataDBContext'.
2023-03-03 12:45:43.401 -08:00 [DBG] DetectChanges completed for 'FlightDataDBContext'.
2023-03-03 12:45:43.453 -08:00 [DBG] 'FlightDataDBContext' disposed.
2023-03-03 12:55:53.833 -08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-03 12:55:54.287 -08:00 [INF] Entity Framework Core 6.0.13 initialized 'UserDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.13' with options: None
2023-03-03 12:55:54.338 -08:00 [DBG] Opening connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 12:55:54.948 -08:00 [DBG] Opened connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 12:55:54.955 -08:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-03-03 12:55:54.960 -08:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (4ms).
2023-03-03 12:55:54.968 -08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-03-03 12:55:55.062 -08:00 [INF] Executed DbCommand (96ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-03-03 12:55:55.064 -08:00 [DBG] Closing connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 12:55:55.067 -08:00 [DBG] Closed connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 12:55:55.073 -08:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-03-03 12:55:55.073 -08:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-03-03 12:55:55.073 -08:00 [DBG] Opening connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 12:55:55.073 -08:00 [DBG] Opened connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 12:55:55.074 -08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-03-03 12:55:55.152 -08:00 [INF] Executed DbCommand (79ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-03-03 12:55:55.152 -08:00 [DBG] Closing connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 12:55:55.153 -08:00 [DBG] Closed connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 12:55:55.157 -08:00 [DBG] 'UserDBContext' disposed.
2023-03-03 12:56:19.947 -08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-03 12:56:20.400 -08:00 [INF] Entity Framework Core 6.0.13 initialized 'UserDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.13' with options: None
2023-03-03 12:56:20.477 -08:00 [DBG] DetectChanges starting for 'UserDBContext'.
2023-03-03 12:56:20.479 -08:00 [DBG] DetectChanges completed for 'UserDBContext'.
2023-03-03 12:56:20.480 -08:00 [DBG] DetectChanges starting for 'UserDBContext'.
2023-03-03 12:56:20.480 -08:00 [DBG] DetectChanges completed for 'UserDBContext'.
2023-03-03 12:56:20.516 -08:00 [DBG] Opening connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 12:56:21.179 -08:00 [DBG] Opened connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 12:56:21.182 -08:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-03-03 12:56:21.188 -08:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2023-03-03 12:56:21.195 -08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-03-03 12:56:21.282 -08:00 [INF] Executed DbCommand (88ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-03-03 12:56:21.284 -08:00 [DBG] Closing connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 12:56:21.286 -08:00 [DBG] Closed connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 12:56:21.292 -08:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-03-03 12:56:21.292 -08:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-03-03 12:56:21.292 -08:00 [DBG] Opening connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 12:56:21.293 -08:00 [DBG] Opened connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 12:56:21.293 -08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-03-03 12:56:21.372 -08:00 [INF] Executed DbCommand (79ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-03-03 12:56:21.372 -08:00 [DBG] Closing connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 12:56:21.373 -08:00 [DBG] Closed connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 12:56:21.415 -08:00 [DBG] 'UserDBContext' disposed.
2023-03-03 13:04:57.906 -08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-03 13:04:58.359 -08:00 [INF] Entity Framework Core 6.0.13 initialized 'UserDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.13' with options: None
2023-03-03 13:04:58.455 -08:00 [DBG] DetectChanges starting for 'UserDBContext'.
2023-03-03 13:04:58.457 -08:00 [DBG] DetectChanges completed for 'UserDBContext'.
2023-03-03 13:04:58.525 -08:00 [DBG] 'UserDBContext' disposed.
2023-03-03 13:06:19.288 -08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-03 13:06:19.744 -08:00 [INF] Entity Framework Core 6.0.13 initialized 'UserDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.13' with options: None
2023-03-03 13:06:19.787 -08:00 [DBG] Migrating using database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:06:19.791 -08:00 [DBG] Opening connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:06:22.735 -08:00 [DBG] Opened connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:06:22.741 -08:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-03-03 13:06:22.747 -08:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (4ms).
2023-03-03 13:06:22.753 -08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-03-03 13:06:22.839 -08:00 [INF] Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-03-03 13:06:22.840 -08:00 [DBG] Closing connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:06:22.843 -08:00 [DBG] Closed connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:06:22.849 -08:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-03-03 13:06:22.849 -08:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-03-03 13:06:22.849 -08:00 [DBG] Opening connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:06:22.849 -08:00 [DBG] Opened connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:06:22.850 -08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-03-03 13:06:22.927 -08:00 [INF] Executed DbCommand (77ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-03-03 13:06:22.927 -08:00 [DBG] Closing connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:06:22.928 -08:00 [DBG] Closed connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:06:22.928 -08:00 [DBG] Opening connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:06:22.928 -08:00 [DBG] Opened connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:06:22.928 -08:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-03-03 13:06:22.928 -08:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-03-03 13:06:22.928 -08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-03-03 13:06:22.996 -08:00 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-03-03 13:06:22.996 -08:00 [DBG] Closing connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:06:22.996 -08:00 [DBG] Closed connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:06:23.075 -08:00 [DBG] DetectChanges starting for 'UserDBContext'.
2023-03-03 13:06:23.077 -08:00 [DBG] DetectChanges completed for 'UserDBContext'.
2023-03-03 13:06:23.097 -08:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-03-03 13:06:23.097 -08:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-03-03 13:06:23.097 -08:00 [DBG] Opening connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:06:23.097 -08:00 [DBG] Opened connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:06:23.097 -08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2023-03-03 13:06:23.237 -08:00 [INF] Executed DbCommand (139ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2023-03-03 13:06:23.237 -08:00 [DBG] Closing connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:06:23.237 -08:00 [DBG] Closed connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:06:23.238 -08:00 [DBG] Opening connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:06:23.238 -08:00 [DBG] Opened connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:06:23.238 -08:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-03-03 13:06:23.238 -08:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-03-03 13:06:23.238 -08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-03-03 13:06:23.305 -08:00 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-03-03 13:06:23.305 -08:00 [DBG] Closing connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:06:23.305 -08:00 [DBG] Closed connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:06:23.305 -08:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-03-03 13:06:23.305 -08:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-03-03 13:06:23.305 -08:00 [DBG] Opening connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:06:23.305 -08:00 [DBG] Opened connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:06:23.305 -08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-03-03 13:06:23.373 -08:00 [INF] Executed DbCommand (68ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-03-03 13:06:23.373 -08:00 [DBG] Closing connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:06:23.373 -08:00 [DBG] Closed connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:06:23.374 -08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-03 13:06:23.374 -08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-03-03 13:06:23.374 -08:00 [DBG] Opening connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:06:23.374 -08:00 [DBG] Opened connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:06:23.374 -08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-03-03 13:06:23.444 -08:00 [INF] Executed DbCommand (69ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-03-03 13:06:23.445 -08:00 [DBG] A data reader was disposed.
2023-03-03 13:06:23.445 -08:00 [DBG] Closing connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:06:23.445 -08:00 [DBG] Closed connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:06:23.454 -08:00 [INF] Applying migration '20230303210458_flightdb'.
2023-03-03 13:06:23.465 -08:00 [DBG] Opening connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:06:23.465 -08:00 [DBG] Opened connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:06:23.466 -08:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-03-03 13:06:23.545 -08:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-03-03 13:06:23.546 -08:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-03-03 13:06:23.546 -08:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-03-03 13:06:23.546 -08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [UserData] (
    [UserId] int NOT NULL IDENTITY,
    [UserName] nvarchar(max) NULL,
    [Password] nvarchar(max) NULL,
    [Role] nvarchar(max) NULL,
    CONSTRAINT [PK_UserData] PRIMARY KEY ([UserId])
);
2023-03-03 13:06:23.615 -08:00 [INF] Executed DbCommand (69ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [UserData] (
    [UserId] int NOT NULL IDENTITY,
    [UserName] nvarchar(max) NULL,
    [Password] nvarchar(max) NULL,
    [Role] nvarchar(max) NULL,
    CONSTRAINT [PK_UserData] PRIMARY KEY ([UserId])
);
2023-03-03 13:06:23.616 -08:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-03-03 13:06:23.616 -08:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-03-03 13:06:23.616 -08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230303210458_flightdb', N'6.0.13');
2023-03-03 13:06:23.684 -08:00 [INF] Executed DbCommand (68ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230303210458_flightdb', N'6.0.13');
2023-03-03 13:06:23.685 -08:00 [DBG] Committing transaction.
2023-03-03 13:06:23.759 -08:00 [DBG] Committed transaction.
2023-03-03 13:06:23.760 -08:00 [DBG] Disposing transaction.
2023-03-03 13:06:23.760 -08:00 [DBG] Closing connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:06:23.761 -08:00 [DBG] Closed connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:06:23.761 -08:00 [DBG] 'UserDBContext' disposed.
2023-03-03 13:06:53.421 -08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-03 13:06:53.897 -08:00 [INF] Entity Framework Core 6.0.13 initialized 'AirlinerDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.13' with options: None
2023-03-03 13:06:54.010 -08:00 [DBG] Context 'AirlinerDBContext' started tracking 'Airliner' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-03 13:06:54.030 -08:00 [DBG] DetectChanges starting for 'AirlinerDBContext'.
2023-03-03 13:06:54.036 -08:00 [DBG] DetectChanges completed for 'AirlinerDBContext'.
2023-03-03 13:06:54.142 -08:00 [DBG] 'AirlinerDBContext' disposed.
2023-03-03 13:07:05.864 -08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-03 13:07:06.344 -08:00 [INF] Entity Framework Core 6.0.13 initialized 'AirlinerDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.13' with options: None
2023-03-03 13:07:06.387 -08:00 [DBG] Migrating using database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:07:06.391 -08:00 [DBG] Opening connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:07:07.024 -08:00 [DBG] Opened connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:07:07.030 -08:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-03-03 13:07:07.036 -08:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (4ms).
2023-03-03 13:07:07.043 -08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-03-03 13:07:07.130 -08:00 [INF] Executed DbCommand (88ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-03-03 13:07:07.132 -08:00 [DBG] Closing connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:07:07.134 -08:00 [DBG] Closed connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:07:07.140 -08:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-03-03 13:07:07.140 -08:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-03-03 13:07:07.141 -08:00 [DBG] Opening connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:07:07.141 -08:00 [DBG] Opened connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:07:07.141 -08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-03-03 13:07:07.220 -08:00 [INF] Executed DbCommand (78ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-03-03 13:07:07.220 -08:00 [DBG] Closing connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:07:07.221 -08:00 [DBG] Closed connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:07:07.221 -08:00 [DBG] Opening connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:07:07.222 -08:00 [DBG] Opened connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:07:07.222 -08:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-03-03 13:07:07.222 -08:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-03-03 13:07:07.222 -08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-03-03 13:07:07.290 -08:00 [INF] Executed DbCommand (68ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-03-03 13:07:07.290 -08:00 [DBG] Closing connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:07:07.290 -08:00 [DBG] Closed connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:07:07.290 -08:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-03-03 13:07:07.290 -08:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-03-03 13:07:07.290 -08:00 [DBG] Opening connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:07:07.291 -08:00 [DBG] Opened connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:07:07.291 -08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-03-03 13:07:07.359 -08:00 [INF] Executed DbCommand (68ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-03-03 13:07:07.359 -08:00 [DBG] Closing connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:07:07.359 -08:00 [DBG] Closed connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:07:07.375 -08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-03 13:07:07.375 -08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-03-03 13:07:07.375 -08:00 [DBG] Opening connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:07:07.375 -08:00 [DBG] Opened connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:07:07.375 -08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-03-03 13:07:07.445 -08:00 [INF] Executed DbCommand (69ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-03-03 13:07:07.446 -08:00 [DBG] A data reader was disposed.
2023-03-03 13:07:07.446 -08:00 [DBG] Closing connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:07:07.447 -08:00 [DBG] Closed connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:07:07.456 -08:00 [INF] Applying migration '20230303210654_flightdb2'.
2023-03-03 13:07:07.502 -08:00 [DBG] Opening connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:07:07.502 -08:00 [DBG] Opened connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:07:07.503 -08:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-03-03 13:07:07.575 -08:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-03-03 13:07:07.575 -08:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-03-03 13:07:07.575 -08:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-03-03 13:07:07.576 -08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Airliner] (
    [Id] int NOT NULL IDENTITY,
    [AirlinerName] nvarchar(max) NOT NULL,
    [AirlinerCallSign] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Airliner] PRIMARY KEY ([Id])
);
2023-03-03 13:07:07.646 -08:00 [INF] Executed DbCommand (70ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Airliner] (
    [Id] int NOT NULL IDENTITY,
    [AirlinerName] nvarchar(max) NOT NULL,
    [AirlinerCallSign] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Airliner] PRIMARY KEY ([Id])
);
2023-03-03 13:07:07.646 -08:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-03-03 13:07:07.646 -08:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-03-03 13:07:07.646 -08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [User] (
    [UserId] int NOT NULL IDENTITY,
    [UserName] nvarchar(max) NULL,
    [Password] nvarchar(max) NULL,
    [Role] nvarchar(max) NULL,
    CONSTRAINT [PK_User] PRIMARY KEY ([UserId])
);
2023-03-03 13:07:07.735 -08:00 [INF] Executed DbCommand (88ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [User] (
    [UserId] int NOT NULL IDENTITY,
    [UserName] nvarchar(max) NULL,
    [Password] nvarchar(max) NULL,
    [Role] nvarchar(max) NULL,
    CONSTRAINT [PK_User] PRIMARY KEY ([UserId])
);
2023-03-03 13:07:07.735 -08:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-03-03 13:07:07.735 -08:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-03-03 13:07:07.735 -08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AirlinerCallSign', N'AirlinerName') AND [object_id] = OBJECT_ID(N'[Airliner]'))
    SET IDENTITY_INSERT [Airliner] ON;
INSERT INTO [Airliner] ([Id], [AirlinerCallSign], [AirlinerName])
VALUES (1, N'THY', N'Turkish Airliner');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AirlinerCallSign', N'AirlinerName') AND [object_id] = OBJECT_ID(N'[Airliner]'))
    SET IDENTITY_INSERT [Airliner] OFF;
2023-03-03 13:07:07.817 -08:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AirlinerCallSign', N'AirlinerName') AND [object_id] = OBJECT_ID(N'[Airliner]'))
    SET IDENTITY_INSERT [Airliner] ON;
INSERT INTO [Airliner] ([Id], [AirlinerCallSign], [AirlinerName])
VALUES (1, N'THY', N'Turkish Airliner');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AirlinerCallSign', N'AirlinerName') AND [object_id] = OBJECT_ID(N'[Airliner]'))
    SET IDENTITY_INSERT [Airliner] OFF;
2023-03-03 13:07:07.817 -08:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-03-03 13:07:07.817 -08:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-03-03 13:07:07.817 -08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230303210654_flightdb2', N'6.0.13');
2023-03-03 13:07:07.885 -08:00 [INF] Executed DbCommand (68ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230303210654_flightdb2', N'6.0.13');
2023-03-03 13:07:07.886 -08:00 [DBG] Committing transaction.
2023-03-03 13:07:07.973 -08:00 [DBG] Committed transaction.
2023-03-03 13:07:07.974 -08:00 [DBG] Disposing transaction.
2023-03-03 13:07:07.974 -08:00 [DBG] Closing connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:07:07.974 -08:00 [DBG] Closed connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:07:07.975 -08:00 [DBG] 'AirlinerDBContext' disposed.
2023-03-03 13:07:27.520 -08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-03 13:07:27.970 -08:00 [INF] Entity Framework Core 6.0.13 initialized 'FlightDataDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.13' with options: None
2023-03-03 13:07:28.067 -08:00 [DBG] DetectChanges starting for 'FlightDataDBContext'.
2023-03-03 13:07:28.069 -08:00 [DBG] DetectChanges completed for 'FlightDataDBContext'.
2023-03-03 13:07:28.139 -08:00 [DBG] 'FlightDataDBContext' disposed.
2023-03-03 13:07:56.658 -08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-03 13:07:57.108 -08:00 [INF] Entity Framework Core 6.0.13 initialized 'FlightDataDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.13' with options: None
2023-03-03 13:07:57.152 -08:00 [DBG] Migrating using database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:07:57.156 -08:00 [DBG] Opening connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:07:57.801 -08:00 [DBG] Opened connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:07:57.807 -08:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-03-03 13:07:57.813 -08:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (4ms).
2023-03-03 13:07:57.820 -08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-03-03 13:07:57.906 -08:00 [INF] Executed DbCommand (87ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-03-03 13:07:57.908 -08:00 [DBG] Closing connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:07:57.911 -08:00 [DBG] Closed connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:07:57.917 -08:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-03-03 13:07:57.917 -08:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-03-03 13:07:57.917 -08:00 [DBG] Opening connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:07:57.918 -08:00 [DBG] Opened connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:07:57.918 -08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-03-03 13:07:57.997 -08:00 [INF] Executed DbCommand (79ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-03-03 13:07:57.997 -08:00 [DBG] Closing connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:07:57.998 -08:00 [DBG] Closed connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:07:57.999 -08:00 [DBG] Opening connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:07:57.999 -08:00 [DBG] Opened connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:07:57.999 -08:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-03-03 13:07:57.999 -08:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-03-03 13:07:57.999 -08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-03-03 13:07:58.067 -08:00 [INF] Executed DbCommand (68ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-03-03 13:07:58.067 -08:00 [DBG] Closing connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:07:58.067 -08:00 [DBG] Closed connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:07:58.067 -08:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-03-03 13:07:58.067 -08:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-03-03 13:07:58.067 -08:00 [DBG] Opening connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:07:58.067 -08:00 [DBG] Opened connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:07:58.067 -08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-03-03 13:07:58.135 -08:00 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-03-03 13:07:58.135 -08:00 [DBG] Closing connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:07:58.135 -08:00 [DBG] Closed connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:07:58.154 -08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-03 13:07:58.154 -08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-03-03 13:07:58.154 -08:00 [DBG] Opening connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:07:58.154 -08:00 [DBG] Opened connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:07:58.154 -08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-03-03 13:07:58.222 -08:00 [INF] Executed DbCommand (68ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-03-03 13:07:58.223 -08:00 [DBG] A data reader was disposed.
2023-03-03 13:07:58.224 -08:00 [DBG] Closing connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:07:58.224 -08:00 [DBG] Closed connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:07:58.233 -08:00 [INF] Applying migration '20230303210728_flightdb2'.
2023-03-03 13:07:58.268 -08:00 [DBG] Opening connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:07:58.268 -08:00 [DBG] Opened connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:07:58.269 -08:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-03-03 13:07:58.341 -08:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-03-03 13:07:58.342 -08:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-03-03 13:07:58.342 -08:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-03-03 13:07:58.342 -08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [FlightData] (
    [Id] int NOT NULL IDENTITY,
    [AirlinerID] int NOT NULL,
    [LoggingTime] datetime2 NOT NULL,
    [TrueAirSpeed] float NOT NULL,
    [GroundSpeed] float NOT NULL,
    [Latitude] float NOT NULL,
    [Longitude] float NOT NULL,
    [Altitude] float NOT NULL,
    [Throttle] float NOT NULL,
    CONSTRAINT [PK_FlightData] PRIMARY KEY ([Id])
);
2023-03-03 13:07:58.412 -08:00 [INF] Executed DbCommand (69ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [FlightData] (
    [Id] int NOT NULL IDENTITY,
    [AirlinerID] int NOT NULL,
    [LoggingTime] datetime2 NOT NULL,
    [TrueAirSpeed] float NOT NULL,
    [GroundSpeed] float NOT NULL,
    [Latitude] float NOT NULL,
    [Longitude] float NOT NULL,
    [Altitude] float NOT NULL,
    [Throttle] float NOT NULL,
    CONSTRAINT [PK_FlightData] PRIMARY KEY ([Id])
);
2023-03-03 13:07:58.412 -08:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-03-03 13:07:58.412 -08:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-03-03 13:07:58.412 -08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230303210728_flightdb2', N'6.0.13');
2023-03-03 13:07:58.480 -08:00 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230303210728_flightdb2', N'6.0.13');
2023-03-03 13:07:58.480 -08:00 [DBG] Committing transaction.
2023-03-03 13:07:58.559 -08:00 [DBG] Committed transaction.
2023-03-03 13:07:58.560 -08:00 [DBG] Disposing transaction.
2023-03-03 13:07:58.560 -08:00 [DBG] Closing connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:07:58.560 -08:00 [DBG] Closed connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:07:58.561 -08:00 [DBG] 'FlightDataDBContext' disposed.
2023-03-03 13:26:33.832 -08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-03-03 13:26:34.014 -08:00 [DBG] Hosting starting
2023-03-03 13:26:34.253 -08:00 [INF] User profile is available. Using 'C:\Users\erolg\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-03-03 13:26:34.257 -08:00 [DBG] Reading data from file 'C:\Users\erolg\AppData\Local\ASP.NET\DataProtection-Keys\key-322def36-0d4b-4319-822b-9a978d52a69b.xml'.
2023-03-03 13:26:34.279 -08:00 [DBG] Found key {322def36-0d4b-4319-822b-9a978d52a69b}.
2023-03-03 13:26:34.288 -08:00 [DBG] Considering key {322def36-0d4b-4319-822b-9a978d52a69b} with expiration date 2023-04-14 01:02:54Z as default key.
2023-03-03 13:26:34.290 -08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-03-03 13:26:34.292 -08:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-03-03 13:26:34.294 -08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-03-03 13:26:34.298 -08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-03-03 13:26:34.299 -08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-03-03 13:26:34.301 -08:00 [DBG] Using key {322def36-0d4b-4319-822b-9a978d52a69b} as the default key.
2023-03-03 13:26:34.302 -08:00 [DBG] Key ring with default key {322def36-0d4b-4319-822b-9a978d52a69b} was loaded during application startup.
2023-03-03 13:26:34.840 -08:00 [DBG] Using development certificate: CN=localhost (Thumbprint: E245E95D59854C93E6C7A7248A3D9D7BFC30FCBE)
2023-03-03 13:26:34.899 -08:00 [INF] Now listening on: https://localhost:7152
2023-03-03 13:26:34.899 -08:00 [INF] Now listening on: http://localhost:5035
2023-03-03 13:26:34.899 -08:00 [DBG] Loaded hosting startup assembly flight_data_server
2023-03-03 13:26:34.899 -08:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-03-03 13:26:34.899 -08:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-03-03 13:26:34.899 -08:00 [INF] Application started. Press Ctrl+C to shut down.
2023-03-03 13:26:34.899 -08:00 [INF] Hosting environment: Development
2023-03-03 13:26:34.899 -08:00 [INF] Content root path: D:\.NET\Flight-Data-Server-Asp.Net\flight_data_server\
2023-03-03 13:26:34.899 -08:00 [DBG] Hosting started
2023-03-03 13:26:34.979 -08:00 [DBG] Connection id "0HMOS5NRJEPJS" accepted.
2023-03-03 13:26:34.980 -08:00 [DBG] Connection id "0HMOS5NRJEPJS" started.
2023-03-03 13:26:35.044 -08:00 [DBG] Connection id "0HMOS5NRJEPJT" accepted.
2023-03-03 13:26:35.044 -08:00 [DBG] Connection id "0HMOS5NRJEPJT" started.
2023-03-03 13:26:35.320 -08:00 [DBG] Connection id "0HMOS5NRJEPJU" accepted.
2023-03-03 13:26:35.322 -08:00 [DBG] Connection id "0HMOS5NRJEPJU" started.
2023-03-03 13:26:35.398 -08:00 [DBG] Connection 0HMOS5NRJEPJU established using the following protocol: "Tls12"
2023-03-03 13:26:35.470 -08:00 [INF] Request starting HTTP/2 GET https://localhost:7152/swagger - -
2023-03-03 13:26:35.536 -08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-03-03 13:26:35.561 -08:00 [DBG] No candidates found for the request path '/swagger'
2023-03-03 13:26:35.562 -08:00 [DBG] Request did not match any endpoints
2023-03-03 13:26:35.656 -08:00 [INF] Request finished HTTP/2 GET https://localhost:7152/swagger - - - 301 0 - 189.2222ms
2023-03-03 13:26:35.666 -08:00 [INF] Request starting HTTP/2 GET https://localhost:7152/swagger/index.html - -
2023-03-03 13:26:35.667 -08:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-03-03 13:26:35.667 -08:00 [DBG] Request did not match any endpoints
2023-03-03 13:26:35.751 -08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-03-03 13:26:36.018 -08:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-03-03 13:26:36.019 -08:00 [INF] Request finished HTTP/2 GET https://localhost:7152/swagger/index.html - - - 200 - text/html;charset=utf-8 352.9517ms
2023-03-03 13:26:36.048 -08:00 [INF] Request starting HTTP/2 GET https://localhost:7152/swagger/swagger-ui-bundle.js - -
2023-03-03 13:26:36.048 -08:00 [INF] Request starting HTTP/2 GET https://localhost:7152/swagger/swagger-ui.css - -
2023-03-03 13:26:36.048 -08:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2023-03-03 13:26:36.048 -08:00 [DBG] Request did not match any endpoints
2023-03-03 13:26:36.048 -08:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2023-03-03 13:26:36.048 -08:00 [DBG] Request did not match any endpoints
2023-03-03 13:26:36.062 -08:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-03-03 13:26:36.067 -08:00 [INF] Request finished HTTP/2 GET https://localhost:7152/swagger/swagger-ui.css - - - 200 143632 text/css 18.7095ms
2023-03-03 13:26:36.094 -08:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-03-03 13:26:36.094 -08:00 [INF] Request finished HTTP/2 GET https://localhost:7152/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 45.8523ms
2023-03-03 13:26:36.111 -08:00 [INF] Request starting HTTP/2 GET https://localhost:7152/swagger/swagger-ui-standalone-preset.js - -
2023-03-03 13:26:36.111 -08:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2023-03-03 13:26:36.111 -08:00 [DBG] Request did not match any endpoints
2023-03-03 13:26:36.111 -08:00 [INF] Request starting HTTP/2 GET https://localhost:7152/_vs/browserLink - -
2023-03-03 13:26:36.162 -08:00 [INF] Request starting HTTP/2 GET https://localhost:7152/_framework/aspnetcore-browser-refresh.js - -
2023-03-03 13:26:36.165 -08:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-03-03 13:26:36.165 -08:00 [INF] Request finished HTTP/2 GET https://localhost:7152/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 54.7486ms
2023-03-03 13:26:36.167 -08:00 [INF] Request finished HTTP/2 GET https://localhost:7152/_framework/aspnetcore-browser-refresh.js - - - 200 12006 application/javascript;+charset=utf-8 4.9683ms
2023-03-03 13:26:36.236 -08:00 [INF] Request finished HTTP/2 GET https://localhost:7152/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 124.9294ms
2023-03-03 13:26:36.259 -08:00 [INF] Request starting HTTP/2 GET https://localhost:7152/swagger/favicon-32x32.png - -
2023-03-03 13:26:36.259 -08:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2023-03-03 13:26:36.259 -08:00 [DBG] Request did not match any endpoints
2023-03-03 13:26:36.259 -08:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2023-03-03 13:26:36.259 -08:00 [INF] Request finished HTTP/2 GET https://localhost:7152/swagger/favicon-32x32.png - - - 200 628 image/png 0.6322ms
2023-03-03 13:26:36.359 -08:00 [INF] Request starting HTTP/2 GET https://localhost:7152/swagger/v1/swagger.json - -
2023-03-03 13:26:36.360 -08:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-03-03 13:26:36.360 -08:00 [DBG] Request did not match any endpoints
2023-03-03 13:26:36.504 -08:00 [INF] Request finished HTTP/2 GET https://localhost:7152/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 144.1763ms
2023-03-03 13:31:53.921 -08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-03-03 13:31:54.082 -08:00 [DBG] Hosting starting
2023-03-03 13:31:54.145 -08:00 [INF] User profile is available. Using 'C:\Users\erolg\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-03-03 13:31:54.149 -08:00 [DBG] Reading data from file 'C:\Users\erolg\AppData\Local\ASP.NET\DataProtection-Keys\key-322def36-0d4b-4319-822b-9a978d52a69b.xml'.
2023-03-03 13:31:54.160 -08:00 [DBG] Found key {322def36-0d4b-4319-822b-9a978d52a69b}.
2023-03-03 13:31:54.172 -08:00 [DBG] Considering key {322def36-0d4b-4319-822b-9a978d52a69b} with expiration date 2023-04-14 01:02:54Z as default key.
2023-03-03 13:31:54.173 -08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-03-03 13:31:54.176 -08:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-03-03 13:31:54.179 -08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-03-03 13:31:54.184 -08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-03-03 13:31:54.186 -08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-03-03 13:31:54.189 -08:00 [DBG] Using key {322def36-0d4b-4319-822b-9a978d52a69b} as the default key.
2023-03-03 13:31:54.189 -08:00 [DBG] Key ring with default key {322def36-0d4b-4319-822b-9a978d52a69b} was loaded during application startup.
2023-03-03 13:31:54.369 -08:00 [DBG] Using development certificate: CN=localhost (Thumbprint: E245E95D59854C93E6C7A7248A3D9D7BFC30FCBE)
2023-03-03 13:31:54.403 -08:00 [INF] Now listening on: https://localhost:7152
2023-03-03 13:31:54.403 -08:00 [INF] Now listening on: http://localhost:5035
2023-03-03 13:31:54.403 -08:00 [DBG] Loaded hosting startup assembly flight_data_server
2023-03-03 13:31:54.403 -08:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-03-03 13:31:54.403 -08:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-03-03 13:31:54.403 -08:00 [INF] Application started. Press Ctrl+C to shut down.
2023-03-03 13:31:54.403 -08:00 [INF] Hosting environment: Development
2023-03-03 13:31:54.403 -08:00 [INF] Content root path: D:\.NET\Flight-Data-Server-Asp.Net\flight_data_server\
2023-03-03 13:31:54.403 -08:00 [DBG] Hosting started
2023-03-03 13:31:54.686 -08:00 [DBG] Connection id "0HMOS5QQSEHF5" received FIN.
2023-03-03 13:31:54.694 -08:00 [DBG] Connection id "0HMOS5QQSEHF5" accepted.
2023-03-03 13:31:54.694 -08:00 [DBG] Connection id "0HMOS5QQSEHF5" started.
2023-03-03 13:31:54.710 -08:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-03 13:31:54.915 -08:00 [DBG] Connection id "0HMOS5QQSEHF5" stopped.
2023-03-03 13:31:54.921 -08:00 [DBG] Connection id "0HMOS5QQSEHF5" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-03 13:31:54.981 -08:00 [DBG] Connection id "0HMOS5QQSEHF6" accepted.
2023-03-03 13:31:54.981 -08:00 [DBG] Connection id "0HMOS5QQSEHF6" started.
2023-03-03 13:31:55.030 -08:00 [DBG] Connection 0HMOS5QQSEHF6 established using the following protocol: "Tls12"
2023-03-03 13:31:55.088 -08:00 [INF] Request starting HTTP/2 GET https://localhost:7152/swagger/index.html - -
2023-03-03 13:31:55.129 -08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-03-03 13:31:55.157 -08:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-03-03 13:31:55.157 -08:00 [DBG] Request did not match any endpoints
2023-03-03 13:31:55.256 -08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-03-03 13:31:55.390 -08:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-03-03 13:31:55.394 -08:00 [INF] Request finished HTTP/2 GET https://localhost:7152/swagger/index.html - - - 200 - text/html;charset=utf-8 310.8774ms
2023-03-03 13:31:55.440 -08:00 [INF] Request starting HTTP/2 GET https://localhost:7152/swagger/swagger-ui.css - -
2023-03-03 13:31:55.440 -08:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2023-03-03 13:31:55.440 -08:00 [DBG] Request did not match any endpoints
2023-03-03 13:31:55.448 -08:00 [DBG] The file transmission was cancelled
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Threading.CancellationToken.ThrowIfCancellationRequested()
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.SendAsync()
2023-03-03 13:31:55.449 -08:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-03-03 13:31:55.449 -08:00 [INF] Request finished HTTP/2 GET https://localhost:7152/swagger/swagger-ui.css - - - 0 143632 text/css 9.5353ms
2023-03-03 13:31:55.488 -08:00 [INF] Request starting HTTP/2 GET https://localhost:7152/_framework/aspnetcore-browser-refresh.js - -
2023-03-03 13:31:55.495 -08:00 [INF] Request finished HTTP/2 GET https://localhost:7152/_framework/aspnetcore-browser-refresh.js - - - 200 12006 application/javascript;+charset=utf-8 6.0932ms
2023-03-03 13:31:55.495 -08:00 [INF] Request starting HTTP/2 GET https://localhost:7152/_vs/browserLink - -
2023-03-03 13:31:55.517 -08:00 [INF] Request finished HTTP/2 GET https://localhost:7152/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 22.3080ms
2023-03-03 13:31:55.628 -08:00 [INF] Request starting HTTP/2 GET https://localhost:7152/swagger/favicon-32x32.png - -
2023-03-03 13:31:55.628 -08:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2023-03-03 13:31:55.628 -08:00 [DBG] Request did not match any endpoints
2023-03-03 13:31:55.630 -08:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2023-03-03 13:31:55.630 -08:00 [INF] Request finished HTTP/2 GET https://localhost:7152/swagger/favicon-32x32.png - - - 200 628 image/png 2.2540ms
2023-03-03 13:31:55.702 -08:00 [INF] Request starting HTTP/2 GET https://localhost:7152/swagger/v1/swagger.json - -
2023-03-03 13:31:55.702 -08:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-03-03 13:31:55.702 -08:00 [DBG] Request did not match any endpoints
2023-03-03 13:31:55.847 -08:00 [INF] Request finished HTTP/2 GET https://localhost:7152/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 144.9971ms
2023-03-03 13:32:34.917 -08:00 [INF] Request starting HTTP/2 POST https://localhost:7152/api/UsersAuth/login application/json 45
2023-03-03 13:32:34.928 -08:00 [DBG] 1 candidate(s) found for the request path '/api/UsersAuth/login'
2023-03-03 13:32:34.932 -08:00 [DBG] Endpoint 'flight_data_server.Controllers.UsersController.Login (flight_data_server)' with route pattern 'api/UsersAuth/login' is valid for the request path '/api/UsersAuth/login'
2023-03-03 13:32:34.932 -08:00 [DBG] Request matched endpoint 'flight_data_server.Controllers.UsersController.Login (flight_data_server)'
2023-03-03 13:32:34.932 -08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-03-03 13:32:35.341 -08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-03-03 13:32:35.342 -08:00 [INF] Executing endpoint 'flight_data_server.Controllers.UsersController.Login (flight_data_server)'
2023-03-03 13:32:35.375 -08:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(flight_data_server.Models.User.LoginRequest) on controller flight_data_server.Controllers.UsersController (flight_data_server).
2023-03-03 13:32:35.376 -08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-03 13:32:35.376 -08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-03 13:32:35.376 -08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-03 13:32:35.376 -08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-03 13:32:35.376 -08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-03 13:32:35.377 -08:00 [DBG] Executing controller factory for controller flight_data_server.Controllers.UsersController (flight_data_server)
2023-03-03 13:32:35.595 -08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-03 13:32:35.623 -08:00 [DBG] Executed controller factory for controller flight_data_server.Controllers.UsersController (flight_data_server)
2023-03-03 13:32:35.657 -08:00 [DBG] Attempting to bind parameter 'model' of type 'flight_data_server.Models.User.LoginRequest' ...
2023-03-03 13:32:35.659 -08:00 [DBG] Attempting to bind parameter 'model' of type 'flight_data_server.Models.User.LoginRequest' using the name '' in request data ...
2023-03-03 13:32:35.660 -08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-03-03 13:32:35.665 -08:00 [DBG] Connection id "0HMOS5QQSEHF6", Request id "0HMOS5QQSEHF6:0000001B": started reading request body.
2023-03-03 13:32:35.665 -08:00 [DBG] Connection id "0HMOS5QQSEHF6", Request id "0HMOS5QQSEHF6:0000001B": done reading request body.
2023-03-03 13:32:35.671 -08:00 [DBG] JSON input formatter succeeded, deserializing to type 'flight_data_server.Models.User.LoginRequest'
2023-03-03 13:32:35.671 -08:00 [DBG] Done attempting to bind parameter 'model' of type 'flight_data_server.Models.User.LoginRequest'.
2023-03-03 13:32:35.671 -08:00 [DBG] Done attempting to bind parameter 'model' of type 'flight_data_server.Models.User.LoginRequest'.
2023-03-03 13:32:35.671 -08:00 [DBG] Attempting to validate the bound parameter 'model' of type 'flight_data_server.Models.User.LoginRequest' ...
2023-03-03 13:32:35.679 -08:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'flight_data_server.Models.User.LoginRequest'.
2023-03-03 13:32:36.341 -08:00 [INF] Entity Framework Core 6.0.13 initialized 'UserDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.13' with options: None
2023-03-03 13:32:36.426 -08:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.UserName.ToLower() == __ToLower_0 && u.Password == __loginRequest_Password_1)'
2023-03-03 13:32:36.820 -08:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.UserId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Password (string), 1], [Property: User.Role (string), 2], [Property: User.UserName (string), 3] }
        SELECT TOP(1) u.UserId, u.Password, u.Role, u.UserName
        FROM UserData AS u
        WHERE (LOWER(u.UserName) == @__ToLower_0) && (u.Password == @__loginRequest_Password_1)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
    flight_data_server.Database.UserDBContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-03-03 13:32:36.882 -08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-03 13:32:36.941 -08:00 [DBG] Created DbCommand for 'ExecuteReader' (53ms).
2023-03-03 13:32:36.955 -08:00 [DBG] Opening connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:32:37.853 -08:00 [DBG] Opened connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:32:37.867 -08:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequest_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Password], [u].[Role], [u].[UserName]
FROM [UserData] AS [u]
WHERE (LOWER([u].[UserName]) = @__ToLower_0) AND ([u].[Password] = @__loginRequest_Password_1)
2023-03-03 13:32:38.025 -08:00 [INF] Executed DbCommand (164ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequest_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Password], [u].[Role], [u].[UserName]
FROM [UserData] AS [u]
WHERE (LOWER([u].[UserName]) = @__ToLower_0) AND ([u].[Password] = @__loginRequest_Password_1)
2023-03-03 13:32:38.064 -08:00 [DBG] Context 'UserDBContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-03 13:32:38.095 -08:00 [DBG] A data reader was disposed.
2023-03-03 13:32:38.099 -08:00 [DBG] Closing connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:32:38.108 -08:00 [DBG] Closed connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:33:29.792 -08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-03-03 13:33:29.944 -08:00 [DBG] Hosting starting
2023-03-03 13:33:30.016 -08:00 [INF] User profile is available. Using 'C:\Users\erolg\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-03-03 13:33:30.020 -08:00 [DBG] Reading data from file 'C:\Users\erolg\AppData\Local\ASP.NET\DataProtection-Keys\key-322def36-0d4b-4319-822b-9a978d52a69b.xml'.
2023-03-03 13:33:30.040 -08:00 [DBG] Found key {322def36-0d4b-4319-822b-9a978d52a69b}.
2023-03-03 13:33:30.064 -08:00 [DBG] Considering key {322def36-0d4b-4319-822b-9a978d52a69b} with expiration date 2023-04-14 01:02:54Z as default key.
2023-03-03 13:33:30.068 -08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-03-03 13:33:30.074 -08:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-03-03 13:33:30.076 -08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-03-03 13:33:30.083 -08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-03-03 13:33:30.086 -08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-03-03 13:33:30.091 -08:00 [DBG] Using key {322def36-0d4b-4319-822b-9a978d52a69b} as the default key.
2023-03-03 13:33:30.092 -08:00 [DBG] Key ring with default key {322def36-0d4b-4319-822b-9a978d52a69b} was loaded during application startup.
2023-03-03 13:33:30.280 -08:00 [DBG] Using development certificate: CN=localhost (Thumbprint: E245E95D59854C93E6C7A7248A3D9D7BFC30FCBE)
2023-03-03 13:33:30.328 -08:00 [INF] Now listening on: https://localhost:7152
2023-03-03 13:33:30.328 -08:00 [INF] Now listening on: http://localhost:5035
2023-03-03 13:33:30.328 -08:00 [DBG] Loaded hosting startup assembly flight_data_server
2023-03-03 13:33:30.328 -08:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-03-03 13:33:30.328 -08:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-03-03 13:33:30.328 -08:00 [INF] Application started. Press Ctrl+C to shut down.
2023-03-03 13:33:30.328 -08:00 [INF] Hosting environment: Development
2023-03-03 13:33:30.328 -08:00 [INF] Content root path: D:\.NET\Flight-Data-Server-Asp.Net\flight_data_server\
2023-03-03 13:33:30.328 -08:00 [DBG] Hosting started
2023-03-03 13:33:30.725 -08:00 [DBG] Connection id "0HMOS5RNGB3NJ" received FIN.
2023-03-03 13:33:30.725 -08:00 [DBG] Connection id "0HMOS5RNGB3NI" received FIN.
2023-03-03 13:33:30.733 -08:00 [DBG] Connection id "0HMOS5RNGB3NJ" accepted.
2023-03-03 13:33:30.733 -08:00 [DBG] Connection id "0HMOS5RNGB3NI" accepted.
2023-03-03 13:33:30.735 -08:00 [DBG] Connection id "0HMOS5RNGB3NJ" started.
2023-03-03 13:33:30.735 -08:00 [DBG] Connection id "0HMOS5RNGB3NI" started.
2023-03-03 13:33:30.749 -08:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-03 13:33:30.749 -08:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-03 13:33:30.786 -08:00 [DBG] Connection id "0HMOS5RNGB3NJ" stopped.
2023-03-03 13:33:30.786 -08:00 [DBG] Connection id "0HMOS5RNGB3NI" stopped.
2023-03-03 13:33:30.789 -08:00 [DBG] Connection id "0HMOS5RNGB3NJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-03 13:33:30.790 -08:00 [DBG] Connection id "0HMOS5RNGB3NI" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-03 13:33:31.003 -08:00 [DBG] Connection id "0HMOS5RNGB3NK" accepted.
2023-03-03 13:33:31.004 -08:00 [DBG] Connection id "0HMOS5RNGB3NK" started.
2023-03-03 13:33:31.055 -08:00 [DBG] Connection 0HMOS5RNGB3NK established using the following protocol: "Tls12"
2023-03-03 13:33:31.113 -08:00 [INF] Request starting HTTP/2 GET https://localhost:7152/swagger/index.html - -
2023-03-03 13:33:31.150 -08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-03-03 13:33:31.172 -08:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-03-03 13:33:31.173 -08:00 [DBG] Request did not match any endpoints
2023-03-03 13:33:31.285 -08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-03-03 13:33:31.412 -08:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-03-03 13:33:31.416 -08:00 [INF] Request finished HTTP/2 GET https://localhost:7152/swagger/index.html - - - 200 - text/html;charset=utf-8 305.9245ms
2023-03-03 13:33:31.508 -08:00 [INF] Request starting HTTP/2 GET https://localhost:7152/_vs/browserLink - -
2023-03-03 13:33:31.508 -08:00 [INF] Request starting HTTP/2 GET https://localhost:7152/_framework/aspnetcore-browser-refresh.js - -
2023-03-03 13:33:31.518 -08:00 [INF] Request finished HTTP/2 GET https://localhost:7152/_framework/aspnetcore-browser-refresh.js - - - 200 12006 application/javascript;+charset=utf-8 9.8487ms
2023-03-03 13:33:31.532 -08:00 [INF] Request finished HTTP/2 GET https://localhost:7152/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 24.4897ms
2023-03-03 13:33:31.724 -08:00 [INF] Request starting HTTP/2 GET https://localhost:7152/swagger/v1/swagger.json - -
2023-03-03 13:33:31.724 -08:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-03-03 13:33:31.724 -08:00 [DBG] Request did not match any endpoints
2023-03-03 13:33:31.871 -08:00 [INF] Request finished HTTP/2 GET https://localhost:7152/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 147.1446ms
2023-03-03 13:34:01.370 -08:00 [INF] Request starting HTTP/2 POST https://localhost:7152/api/UsersAuth/login application/json 50
2023-03-03 13:34:01.380 -08:00 [DBG] 1 candidate(s) found for the request path '/api/UsersAuth/login'
2023-03-03 13:34:01.384 -08:00 [DBG] Endpoint 'flight_data_server.Controllers.UsersController.Login (flight_data_server)' with route pattern 'api/UsersAuth/login' is valid for the request path '/api/UsersAuth/login'
2023-03-03 13:34:01.384 -08:00 [DBG] Request matched endpoint 'flight_data_server.Controllers.UsersController.Login (flight_data_server)'
2023-03-03 13:34:01.385 -08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-03-03 13:34:01.453 -08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-03-03 13:34:01.454 -08:00 [INF] Executing endpoint 'flight_data_server.Controllers.UsersController.Login (flight_data_server)'
2023-03-03 13:34:01.480 -08:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(flight_data_server.Models.User.LoginRequest) on controller flight_data_server.Controllers.UsersController (flight_data_server).
2023-03-03 13:34:01.480 -08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-03 13:34:01.480 -08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-03 13:34:01.481 -08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-03 13:34:01.481 -08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-03 13:34:01.481 -08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-03 13:34:01.481 -08:00 [DBG] Executing controller factory for controller flight_data_server.Controllers.UsersController (flight_data_server)
2023-03-03 13:34:01.622 -08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-03 13:34:01.648 -08:00 [DBG] Executed controller factory for controller flight_data_server.Controllers.UsersController (flight_data_server)
2023-03-03 13:34:01.658 -08:00 [DBG] Attempting to bind parameter 'model' of type 'flight_data_server.Models.User.LoginRequest' ...
2023-03-03 13:34:01.660 -08:00 [DBG] Attempting to bind parameter 'model' of type 'flight_data_server.Models.User.LoginRequest' using the name '' in request data ...
2023-03-03 13:34:01.661 -08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-03-03 13:34:01.664 -08:00 [DBG] Connection id "0HMOS5RNGB3NK", Request id "0HMOS5RNGB3NK:00000017": started reading request body.
2023-03-03 13:34:01.665 -08:00 [DBG] Connection id "0HMOS5RNGB3NK", Request id "0HMOS5RNGB3NK:00000017": done reading request body.
2023-03-03 13:34:01.669 -08:00 [DBG] JSON input formatter succeeded, deserializing to type 'flight_data_server.Models.User.LoginRequest'
2023-03-03 13:34:01.670 -08:00 [DBG] Done attempting to bind parameter 'model' of type 'flight_data_server.Models.User.LoginRequest'.
2023-03-03 13:34:01.670 -08:00 [DBG] Done attempting to bind parameter 'model' of type 'flight_data_server.Models.User.LoginRequest'.
2023-03-03 13:34:01.670 -08:00 [DBG] Attempting to validate the bound parameter 'model' of type 'flight_data_server.Models.User.LoginRequest' ...
2023-03-03 13:34:01.676 -08:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'flight_data_server.Models.User.LoginRequest'.
2023-03-03 13:34:02.291 -08:00 [INF] Entity Framework Core 6.0.13 initialized 'UserDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.13' with options: None
2023-03-03 13:34:02.374 -08:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.UserName.ToLower() == __ToLower_0 && u.Password == __loginRequest_Password_1)'
2023-03-03 13:34:02.751 -08:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.UserId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Password (string), 1], [Property: User.Role (string), 2], [Property: User.UserName (string), 3] }
        SELECT TOP(1) u.UserId, u.Password, u.Role, u.UserName
        FROM UserData AS u
        WHERE (LOWER(u.UserName) == @__ToLower_0) && (u.Password == @__loginRequest_Password_1)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
    flight_data_server.Database.UserDBContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-03-03 13:34:02.813 -08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-03 13:34:02.856 -08:00 [DBG] Created DbCommand for 'ExecuteReader' (39ms).
2023-03-03 13:34:02.871 -08:00 [DBG] Opening connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:34:03.700 -08:00 [DBG] Opened connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:34:03.715 -08:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequest_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Password], [u].[Role], [u].[UserName]
FROM [UserData] AS [u]
WHERE (LOWER([u].[UserName]) = @__ToLower_0) AND ([u].[Password] = @__loginRequest_Password_1)
2023-03-03 13:34:03.845 -08:00 [INF] Executed DbCommand (136ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequest_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Password], [u].[Role], [u].[UserName]
FROM [UserData] AS [u]
WHERE (LOWER([u].[UserName]) = @__ToLower_0) AND ([u].[Password] = @__loginRequest_Password_1)
2023-03-03 13:34:03.885 -08:00 [DBG] Context 'UserDBContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-03 13:34:03.916 -08:00 [DBG] A data reader was disposed.
2023-03-03 13:34:03.920 -08:00 [DBG] Closing connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:34:03.929 -08:00 [DBG] Closed connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:36:29.387 -08:00 [DBG] Connection id "0HMOS5RNGB3NL" accepted.
2023-03-03 13:36:29.388 -08:00 [DBG] Connection id "0HMOS5RNGB3NL" started.
2023-03-03 13:36:29.389 -08:00 [DBG] Connection id "0HMOS5RNGB3NK" received FIN.
2023-03-03 13:36:29.397 -08:00 [DBG] Connection id "0HMOS5RNGB3NK" is closed. The last processed stream ID was 23.
2023-03-03 13:36:29.431 -08:00 [DBG] Connection id "0HMOS5RNGB3NK" sending FIN because: "The client closed the connection."
2023-03-03 13:36:29.462 -08:00 [DBG] Connection 0HMOS5RNGB3NL established using the following protocol: "Tls12"
2023-03-03 13:36:29.463 -08:00 [INF] Request starting HTTP/2 POST https://localhost:7152/api/UsersAuth/login application/json 50
2023-03-03 13:36:29.467 -08:00 [DBG] 1 candidate(s) found for the request path '/api/UsersAuth/login'
2023-03-03 13:36:29.467 -08:00 [DBG] Endpoint 'flight_data_server.Controllers.UsersController.Login (flight_data_server)' with route pattern 'api/UsersAuth/login' is valid for the request path '/api/UsersAuth/login'
2023-03-03 13:36:29.467 -08:00 [DBG] Request matched endpoint 'flight_data_server.Controllers.UsersController.Login (flight_data_server)'
2023-03-03 13:36:29.467 -08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-03-03 13:36:29.467 -08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-03-03 13:36:29.467 -08:00 [INF] Executing endpoint 'flight_data_server.Controllers.UsersController.Login (flight_data_server)'
2023-03-03 13:36:29.467 -08:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(flight_data_server.Models.User.LoginRequest) on controller flight_data_server.Controllers.UsersController (flight_data_server).
2023-03-03 13:36:29.467 -08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-03 13:36:29.468 -08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-03 13:36:29.468 -08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-03 13:36:29.468 -08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-03 13:36:29.468 -08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-03 13:36:29.468 -08:00 [DBG] Executing controller factory for controller flight_data_server.Controllers.UsersController (flight_data_server)
2023-03-03 13:36:29.468 -08:00 [DBG] Executed controller factory for controller flight_data_server.Controllers.UsersController (flight_data_server)
2023-03-03 13:36:29.468 -08:00 [DBG] Attempting to bind parameter 'model' of type 'flight_data_server.Models.User.LoginRequest' ...
2023-03-03 13:36:29.468 -08:00 [DBG] Attempting to bind parameter 'model' of type 'flight_data_server.Models.User.LoginRequest' using the name '' in request data ...
2023-03-03 13:36:29.468 -08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-03-03 13:36:29.468 -08:00 [DBG] Connection id "0HMOS5RNGB3NL", Request id "0HMOS5RNGB3NL:0000000F": started reading request body.
2023-03-03 13:36:29.468 -08:00 [DBG] Connection id "0HMOS5RNGB3NL", Request id "0HMOS5RNGB3NL:0000000F": done reading request body.
2023-03-03 13:36:29.468 -08:00 [DBG] JSON input formatter succeeded, deserializing to type 'flight_data_server.Models.User.LoginRequest'
2023-03-03 13:36:29.468 -08:00 [DBG] Done attempting to bind parameter 'model' of type 'flight_data_server.Models.User.LoginRequest'.
2023-03-03 13:36:29.469 -08:00 [DBG] Done attempting to bind parameter 'model' of type 'flight_data_server.Models.User.LoginRequest'.
2023-03-03 13:36:29.469 -08:00 [DBG] Attempting to validate the bound parameter 'model' of type 'flight_data_server.Models.User.LoginRequest' ...
2023-03-03 13:36:29.469 -08:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'flight_data_server.Models.User.LoginRequest'.
2023-03-03 13:36:29.470 -08:00 [INF] Entity Framework Core 6.0.13 initialized 'UserDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.13' with options: None
2023-03-03 13:36:29.471 -08:00 [INF] Executed action flight_data_server.Controllers.UsersController.Login (flight_data_server) in 147985.8414ms
2023-03-03 13:36:29.473 -08:00 [INF] Executed endpoint 'flight_data_server.Controllers.UsersController.Login (flight_data_server)'
2023-03-03 13:36:29.474 -08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-03 13:36:29.474 -08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-03-03 13:36:29.474 -08:00 [DBG] Opening connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:36:29.475 -08:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at flight_data_server.Services.UserFunctions.UserRepository.Login(LoginRequest loginRequest) in D:\.NET\Flight-Data-Server-Asp.Net\flight_data_server\Services\UserFunctions\UserRepository.cs:line 59
   at flight_data_server.Controllers.UsersController.Login(LoginRequest model) in D:\.NET\Flight-Data-Server-Asp.Net\flight_data_server\Controllers\UsersController.cs:line 30
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-03-03 13:36:29.476 -08:00 [DBG] Opened connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:36:29.500 -08:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequest_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Password], [u].[Role], [u].[UserName]
FROM [UserData] AS [u]
WHERE (LOWER([u].[UserName]) = @__ToLower_0) AND ([u].[Password] = @__loginRequest_Password_1)
2023-03-03 13:36:29.507 -08:00 [DBG] 'UserDBContext' disposed.
2023-03-03 13:36:29.511 -08:00 [INF] Request finished HTTP/2 POST https://localhost:7152/api/UsersAuth/login application/json 50 - 500 - text/plain;+charset=utf-8 148141.1112ms
2023-03-03 13:36:29.513 -08:00 [DBG] Connection id "0HMOS5RNGB3NK" stopped.
2023-03-03 13:36:29.571 -08:00 [INF] Executed DbCommand (71ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequest_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Password], [u].[Role], [u].[UserName]
FROM [UserData] AS [u]
WHERE (LOWER([u].[UserName]) = @__ToLower_0) AND ([u].[Password] = @__loginRequest_Password_1)
2023-03-03 13:36:29.571 -08:00 [DBG] Context 'UserDBContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-03 13:36:29.571 -08:00 [DBG] A data reader was disposed.
2023-03-03 13:36:29.571 -08:00 [DBG] Closing connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:36:29.571 -08:00 [DBG] Closed connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:36:29.903 -08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-03-03 13:36:29.904 -08:00 [DBG] No information found on request to perform content negotiation.
2023-03-03 13:36:29.904 -08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-03-03 13:36:29.904 -08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-03-03 13:36:29.905 -08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-03-03 13:36:29.905 -08:00 [INF] Executing OkObjectResult, writing value of type 'flight_data_server.Models.APIResponse'.
2023-03-03 13:36:29.912 -08:00 [INF] Executed action flight_data_server.Controllers.UsersController.Login (flight_data_server) in 444.4373ms
2023-03-03 13:36:29.912 -08:00 [INF] Executed endpoint 'flight_data_server.Controllers.UsersController.Login (flight_data_server)'
2023-03-03 13:36:29.912 -08:00 [DBG] 'UserDBContext' disposed.
2023-03-03 13:36:29.912 -08:00 [INF] Request finished HTTP/2 POST https://localhost:7152/api/UsersAuth/login application/json 50 - 200 - application/json;+charset=utf-8 449.3865ms
2023-03-03 13:36:35.506 -08:00 [INF] Request starting HTTP/2 POST https://localhost:7152/api/UsersAuth/login application/json 50
2023-03-03 13:36:35.506 -08:00 [DBG] 1 candidate(s) found for the request path '/api/UsersAuth/login'
2023-03-03 13:36:35.506 -08:00 [DBG] Endpoint 'flight_data_server.Controllers.UsersController.Login (flight_data_server)' with route pattern 'api/UsersAuth/login' is valid for the request path '/api/UsersAuth/login'
2023-03-03 13:36:35.506 -08:00 [DBG] Request matched endpoint 'flight_data_server.Controllers.UsersController.Login (flight_data_server)'
2023-03-03 13:36:35.506 -08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-03-03 13:36:35.508 -08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-03-03 13:36:35.508 -08:00 [INF] Executing endpoint 'flight_data_server.Controllers.UsersController.Login (flight_data_server)'
2023-03-03 13:36:35.508 -08:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(flight_data_server.Models.User.LoginRequest) on controller flight_data_server.Controllers.UsersController (flight_data_server).
2023-03-03 13:36:35.508 -08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-03 13:36:35.508 -08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-03 13:36:35.508 -08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-03 13:36:35.508 -08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-03 13:36:35.508 -08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-03 13:36:35.508 -08:00 [DBG] Executing controller factory for controller flight_data_server.Controllers.UsersController (flight_data_server)
2023-03-03 13:36:35.509 -08:00 [DBG] Executed controller factory for controller flight_data_server.Controllers.UsersController (flight_data_server)
2023-03-03 13:36:35.509 -08:00 [DBG] Attempting to bind parameter 'model' of type 'flight_data_server.Models.User.LoginRequest' ...
2023-03-03 13:36:35.509 -08:00 [DBG] Attempting to bind parameter 'model' of type 'flight_data_server.Models.User.LoginRequest' using the name '' in request data ...
2023-03-03 13:36:35.509 -08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-03-03 13:36:35.509 -08:00 [DBG] Connection id "0HMOS5RNGB3NL", Request id "0HMOS5RNGB3NL:00000011": started reading request body.
2023-03-03 13:36:35.509 -08:00 [DBG] Connection id "0HMOS5RNGB3NL", Request id "0HMOS5RNGB3NL:00000011": done reading request body.
2023-03-03 13:36:35.510 -08:00 [DBG] JSON input formatter succeeded, deserializing to type 'flight_data_server.Models.User.LoginRequest'
2023-03-03 13:36:35.510 -08:00 [DBG] Done attempting to bind parameter 'model' of type 'flight_data_server.Models.User.LoginRequest'.
2023-03-03 13:36:35.510 -08:00 [DBG] Done attempting to bind parameter 'model' of type 'flight_data_server.Models.User.LoginRequest'.
2023-03-03 13:36:35.510 -08:00 [DBG] Attempting to validate the bound parameter 'model' of type 'flight_data_server.Models.User.LoginRequest' ...
2023-03-03 13:36:35.510 -08:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'flight_data_server.Models.User.LoginRequest'.
2023-03-03 13:36:35.551 -08:00 [INF] Entity Framework Core 6.0.13 initialized 'UserDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.13' with options: None
2023-03-03 13:36:35.552 -08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-03 13:36:35.552 -08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-03-03 13:36:35.552 -08:00 [DBG] Opening connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:36:35.552 -08:00 [DBG] Opened connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:36:35.552 -08:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequest_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Password], [u].[Role], [u].[UserName]
FROM [UserData] AS [u]
WHERE (LOWER([u].[UserName]) = @__ToLower_0) AND ([u].[Password] = @__loginRequest_Password_1)
2023-03-03 13:36:35.620 -08:00 [INF] Executed DbCommand (68ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequest_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Password], [u].[Role], [u].[UserName]
FROM [UserData] AS [u]
WHERE (LOWER([u].[UserName]) = @__ToLower_0) AND ([u].[Password] = @__loginRequest_Password_1)
2023-03-03 13:36:35.621 -08:00 [DBG] Context 'UserDBContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-03 13:36:35.621 -08:00 [DBG] A data reader was disposed.
2023-03-03 13:36:35.621 -08:00 [DBG] Closing connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:36:35.621 -08:00 [DBG] Closed connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:36:35.621 -08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-03-03 13:36:35.621 -08:00 [DBG] No information found on request to perform content negotiation.
2023-03-03 13:36:35.621 -08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-03-03 13:36:35.621 -08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-03-03 13:36:35.621 -08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-03-03 13:36:35.621 -08:00 [INF] Executing OkObjectResult, writing value of type 'flight_data_server.Models.APIResponse'.
2023-03-03 13:36:35.621 -08:00 [INF] Executed action flight_data_server.Controllers.UsersController.Login (flight_data_server) in 113.3174ms
2023-03-03 13:36:35.621 -08:00 [INF] Executed endpoint 'flight_data_server.Controllers.UsersController.Login (flight_data_server)'
2023-03-03 13:36:35.621 -08:00 [DBG] 'UserDBContext' disposed.
2023-03-03 13:36:35.621 -08:00 [INF] Request finished HTTP/2 POST https://localhost:7152/api/UsersAuth/login application/json 50 - 200 - application/json;+charset=utf-8 115.5790ms
2023-03-03 13:41:55.894 -08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-03-03 13:41:56.015 -08:00 [DBG] Hosting starting
2023-03-03 13:41:56.060 -08:00 [INF] User profile is available. Using 'C:\Users\erolg\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-03-03 13:41:56.063 -08:00 [DBG] Reading data from file 'C:\Users\erolg\AppData\Local\ASP.NET\DataProtection-Keys\key-322def36-0d4b-4319-822b-9a978d52a69b.xml'.
2023-03-03 13:41:56.072 -08:00 [DBG] Found key {322def36-0d4b-4319-822b-9a978d52a69b}.
2023-03-03 13:41:56.081 -08:00 [DBG] Considering key {322def36-0d4b-4319-822b-9a978d52a69b} with expiration date 2023-04-14 01:02:54Z as default key.
2023-03-03 13:41:56.083 -08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-03-03 13:41:56.085 -08:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-03-03 13:41:56.086 -08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-03-03 13:41:56.090 -08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-03-03 13:41:56.091 -08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-03-03 13:41:56.094 -08:00 [DBG] Using key {322def36-0d4b-4319-822b-9a978d52a69b} as the default key.
2023-03-03 13:41:56.094 -08:00 [DBG] Key ring with default key {322def36-0d4b-4319-822b-9a978d52a69b} was loaded during application startup.
2023-03-03 13:41:56.254 -08:00 [DBG] Using development certificate: CN=localhost (Thumbprint: E245E95D59854C93E6C7A7248A3D9D7BFC30FCBE)
2023-03-03 13:41:56.295 -08:00 [INF] Now listening on: https://localhost:7152
2023-03-03 13:41:56.295 -08:00 [INF] Now listening on: http://localhost:5035
2023-03-03 13:41:56.295 -08:00 [DBG] Loaded hosting startup assembly flight_data_server
2023-03-03 13:41:56.295 -08:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-03-03 13:41:56.295 -08:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-03-03 13:41:56.295 -08:00 [INF] Application started. Press Ctrl+C to shut down.
2023-03-03 13:41:56.295 -08:00 [INF] Hosting environment: Development
2023-03-03 13:41:56.295 -08:00 [INF] Content root path: D:\.NET\Flight-Data-Server-Asp.Net\flight_data_server\
2023-03-03 13:41:56.295 -08:00 [DBG] Hosting started
2023-03-03 13:41:56.439 -08:00 [DBG] Connection id "0HMOS60E7607C" accepted.
2023-03-03 13:41:56.440 -08:00 [DBG] Connection id "0HMOS60E7607C" started.
2023-03-03 13:41:56.440 -08:00 [DBG] Connection id "0HMOS60E7607D" received FIN.
2023-03-03 13:41:56.441 -08:00 [DBG] Connection id "0HMOS60E7607D" accepted.
2023-03-03 13:41:56.441 -08:00 [DBG] Connection id "0HMOS60E7607D" started.
2023-03-03 13:41:56.442 -08:00 [DBG] Connection id "0HMOS60E7607C" received FIN.
2023-03-03 13:41:56.455 -08:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-03 13:41:56.455 -08:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-03 13:41:56.494 -08:00 [DBG] Connection id "0HMOS60E7607D" stopped.
2023-03-03 13:41:56.494 -08:00 [DBG] Connection id "0HMOS60E7607C" stopped.
2023-03-03 13:41:56.496 -08:00 [DBG] Connection id "0HMOS60E7607C" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-03 13:41:56.496 -08:00 [DBG] Connection id "0HMOS60E7607D" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-03 13:41:56.696 -08:00 [DBG] Connection id "0HMOS60E7607E" accepted.
2023-03-03 13:41:56.696 -08:00 [DBG] Connection id "0HMOS60E7607E" started.
2023-03-03 13:41:56.752 -08:00 [DBG] Connection 0HMOS60E7607E established using the following protocol: "Tls12"
2023-03-03 13:41:56.814 -08:00 [INF] Request starting HTTP/2 GET https://localhost:7152/swagger/index.html - -
2023-03-03 13:41:56.851 -08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-03-03 13:41:56.874 -08:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-03-03 13:41:56.875 -08:00 [DBG] Request did not match any endpoints
2023-03-03 13:41:56.976 -08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-03-03 13:41:57.103 -08:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-03-03 13:41:57.107 -08:00 [INF] Request finished HTTP/2 GET https://localhost:7152/swagger/index.html - - - 200 - text/html;charset=utf-8 295.6941ms
2023-03-03 13:41:57.212 -08:00 [INF] Request starting HTTP/2 GET https://localhost:7152/_framework/aspnetcore-browser-refresh.js - -
2023-03-03 13:41:57.212 -08:00 [INF] Request starting HTTP/2 GET https://localhost:7152/_vs/browserLink - -
2023-03-03 13:41:57.221 -08:00 [INF] Request finished HTTP/2 GET https://localhost:7152/_framework/aspnetcore-browser-refresh.js - - - 200 12006 application/javascript;+charset=utf-8 9.2566ms
2023-03-03 13:41:57.236 -08:00 [INF] Request finished HTTP/2 GET https://localhost:7152/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 23.3221ms
2023-03-03 13:41:57.438 -08:00 [INF] Request starting HTTP/2 GET https://localhost:7152/swagger/v1/swagger.json - -
2023-03-03 13:41:57.438 -08:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-03-03 13:41:57.438 -08:00 [DBG] Request did not match any endpoints
2023-03-03 13:41:57.575 -08:00 [INF] Request finished HTTP/2 GET https://localhost:7152/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 137.6377ms
2023-03-03 13:42:05.024 -08:00 [INF] Request starting HTTP/2 GET https://localhost:7152/api/Airliner - -
2023-03-03 13:42:05.031 -08:00 [DBG] 1 candidate(s) found for the request path '/api/Airliner'
2023-03-03 13:42:05.034 -08:00 [DBG] Endpoint 'flight_data_server.Controllers.AirlinerController.GetAirliners (flight_data_server)' with route pattern 'api/Airliner' is valid for the request path '/api/Airliner'
2023-03-03 13:42:05.034 -08:00 [DBG] Request matched endpoint 'flight_data_server.Controllers.AirlinerController.GetAirliners (flight_data_server)'
2023-03-03 13:42:05.036 -08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-03-03 13:42:05.043 -08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2023-03-03 13:42:05.117 -08:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-03-03 13:42:05.117 -08:00 [INF] Request finished HTTP/2 GET https://localhost:7152/api/Airliner - - - 401 0 - 93.0023ms
2023-03-03 13:42:23.331 -08:00 [INF] Request starting HTTP/2 POST https://localhost:7152/api/UsersAuth/login application/json 50
2023-03-03 13:42:23.333 -08:00 [DBG] 1 candidate(s) found for the request path '/api/UsersAuth/login'
2023-03-03 13:42:23.333 -08:00 [DBG] Endpoint 'flight_data_server.Controllers.UsersController.Login (flight_data_server)' with route pattern 'api/UsersAuth/login' is valid for the request path '/api/UsersAuth/login'
2023-03-03 13:42:23.333 -08:00 [DBG] Request matched endpoint 'flight_data_server.Controllers.UsersController.Login (flight_data_server)'
2023-03-03 13:42:23.333 -08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-03-03 13:42:23.336 -08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-03-03 13:42:23.336 -08:00 [INF] Executing endpoint 'flight_data_server.Controllers.UsersController.Login (flight_data_server)'
2023-03-03 13:42:23.362 -08:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(flight_data_server.Models.User.LoginRequest) on controller flight_data_server.Controllers.UsersController (flight_data_server).
2023-03-03 13:42:23.363 -08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-03 13:42:23.363 -08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-03 13:42:23.363 -08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-03 13:42:23.363 -08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-03 13:42:23.363 -08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-03 13:42:23.364 -08:00 [DBG] Executing controller factory for controller flight_data_server.Controllers.UsersController (flight_data_server)
2023-03-03 13:42:23.504 -08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-03 13:42:23.531 -08:00 [DBG] Executed controller factory for controller flight_data_server.Controllers.UsersController (flight_data_server)
2023-03-03 13:42:23.540 -08:00 [DBG] Attempting to bind parameter 'model' of type 'flight_data_server.Models.User.LoginRequest' ...
2023-03-03 13:42:23.542 -08:00 [DBG] Attempting to bind parameter 'model' of type 'flight_data_server.Models.User.LoginRequest' using the name '' in request data ...
2023-03-03 13:42:23.543 -08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-03-03 13:42:23.546 -08:00 [DBG] Connection id "0HMOS60E7607E", Request id "0HMOS60E7607E:00000019": started reading request body.
2023-03-03 13:42:23.547 -08:00 [DBG] Connection id "0HMOS60E7607E", Request id "0HMOS60E7607E:00000019": done reading request body.
2023-03-03 13:42:23.551 -08:00 [DBG] JSON input formatter succeeded, deserializing to type 'flight_data_server.Models.User.LoginRequest'
2023-03-03 13:42:23.552 -08:00 [DBG] Done attempting to bind parameter 'model' of type 'flight_data_server.Models.User.LoginRequest'.
2023-03-03 13:42:23.552 -08:00 [DBG] Done attempting to bind parameter 'model' of type 'flight_data_server.Models.User.LoginRequest'.
2023-03-03 13:42:23.552 -08:00 [DBG] Attempting to validate the bound parameter 'model' of type 'flight_data_server.Models.User.LoginRequest' ...
2023-03-03 13:42:23.559 -08:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'flight_data_server.Models.User.LoginRequest'.
2023-03-03 13:42:24.194 -08:00 [INF] Entity Framework Core 6.0.13 initialized 'UserDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.13' with options: None
2023-03-03 13:42:24.272 -08:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.UserName.ToLower() == __ToLower_0 && u.Password == __loginRequest_Password_1)'
2023-03-03 13:42:24.647 -08:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.UserId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Password (string), 1], [Property: User.Role (string), 2], [Property: User.UserName (string), 3] }
        SELECT TOP(1) u.UserId, u.Password, u.Role, u.UserName
        FROM UserData AS u
        WHERE (LOWER(u.UserName) == @__ToLower_0) && (u.Password == @__loginRequest_Password_1)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
    flight_data_server.Database.UserDBContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-03-03 13:42:24.711 -08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-03 13:42:24.755 -08:00 [DBG] Created DbCommand for 'ExecuteReader' (40ms).
2023-03-03 13:42:24.769 -08:00 [DBG] Opening connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:42:25.583 -08:00 [DBG] Opened connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:42:25.599 -08:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequest_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Password], [u].[Role], [u].[UserName]
FROM [UserData] AS [u]
WHERE (LOWER([u].[UserName]) = @__ToLower_0) AND ([u].[Password] = @__loginRequest_Password_1)
2023-03-03 13:42:25.733 -08:00 [INF] Executed DbCommand (141ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequest_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Password], [u].[Role], [u].[UserName]
FROM [UserData] AS [u]
WHERE (LOWER([u].[UserName]) = @__ToLower_0) AND ([u].[Password] = @__loginRequest_Password_1)
2023-03-03 13:42:25.772 -08:00 [DBG] Context 'UserDBContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-03 13:42:25.804 -08:00 [DBG] A data reader was disposed.
2023-03-03 13:42:25.808 -08:00 [DBG] Closing connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:42:25.818 -08:00 [DBG] Closed connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:42:25.962 -08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-03-03 13:42:25.963 -08:00 [DBG] No information found on request to perform content negotiation.
2023-03-03 13:42:25.964 -08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-03-03 13:42:25.964 -08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-03-03 13:42:25.964 -08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-03-03 13:42:25.964 -08:00 [INF] Executing OkObjectResult, writing value of type 'flight_data_server.Models.APIResponse'.
2023-03-03 13:42:25.974 -08:00 [INF] Executed action flight_data_server.Controllers.UsersController.Login (flight_data_server) in 2605.6024ms
2023-03-03 13:42:25.975 -08:00 [INF] Executed endpoint 'flight_data_server.Controllers.UsersController.Login (flight_data_server)'
2023-03-03 13:42:25.979 -08:00 [DBG] 'UserDBContext' disposed.
2023-03-03 13:42:25.983 -08:00 [INF] Request finished HTTP/2 POST https://localhost:7152/api/UsersAuth/login application/json 50 - 200 - application/json;+charset=utf-8 2651.8093ms
2023-03-03 13:42:37.596 -08:00 [INF] Request starting HTTP/2 GET https://localhost:7152/api/Airliner - -
2023-03-03 13:42:37.596 -08:00 [DBG] 1 candidate(s) found for the request path '/api/Airliner'
2023-03-03 13:42:37.596 -08:00 [DBG] Endpoint 'flight_data_server.Controllers.AirlinerController.GetAirliners (flight_data_server)' with route pattern 'api/Airliner' is valid for the request path '/api/Airliner'
2023-03-03 13:42:37.596 -08:00 [DBG] Request matched endpoint 'flight_data_server.Controllers.AirlinerController.GetAirliners (flight_data_server)'
2023-03-03 13:42:37.596 -08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-03-03 13:42:37.596 -08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2023-03-03 13:42:37.598 -08:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-03-03 13:42:37.598 -08:00 [INF] Request finished HTTP/2 GET https://localhost:7152/api/Airliner - - - 401 0 - 2.7324ms
2023-03-03 13:42:53.392 -08:00 [INF] Request starting HTTP/2 GET https://localhost:7152/api/Airliner - -
2023-03-03 13:42:53.393 -08:00 [DBG] 1 candidate(s) found for the request path '/api/Airliner'
2023-03-03 13:42:53.393 -08:00 [DBG] Endpoint 'flight_data_server.Controllers.AirlinerController.GetAirliners (flight_data_server)' with route pattern 'api/Airliner' is valid for the request path '/api/Airliner'
2023-03-03 13:42:53.393 -08:00 [DBG] Request matched endpoint 'flight_data_server.Controllers.AirlinerController.GetAirliners (flight_data_server)'
2023-03-03 13:42:53.393 -08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-03-03 13:42:53.393 -08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2023-03-03 13:42:57.564 -08:00 [ERR] Exception occurred while processing message.
System.InvalidOperationException: IDX20803: Unable to obtain configuration from: 'System.String'.
 ---> System.IO.IOException: IDX20804: Unable to retrieve document from: 'System.String'.
 ---> System.Net.Http.HttpRequestException: No connection could be made because the target machine actively refused it. (localhost:7003)
 ---> System.Net.Sockets.SocketException (10061): No connection could be made because the target machine actively refused it.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|277_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(HttpRequestMessage request)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.GetHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Microsoft.IdentityModel.Protocols.HttpDocumentRetriever.GetDocumentAsync(String address, CancellationToken cancel)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.Protocols.HttpDocumentRetriever.GetDocumentAsync(String address, CancellationToken cancel)
   at Microsoft.IdentityModel.Protocols.OpenIdConnect.OpenIdConnectConfigurationRetriever.GetAsync(String address, IDocumentRetriever retriever, CancellationToken cancel)
   at Microsoft.IdentityModel.Protocols.ConfigurationManager`1.GetConfigurationAsync(CancellationToken cancel)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.Protocols.ConfigurationManager`1.GetConfigurationAsync(CancellationToken cancel)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-03-03 13:42:57.574 -08:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-03-03 13:42:57.576 -08:00 [INF] Request finished HTTP/2 GET https://localhost:7152/api/Airliner - - - 401 0 - 4183.9423ms
2023-03-03 13:43:43.738 -08:00 [DBG] Connection id "0HMOS60E7607F" accepted.
2023-03-03 13:43:43.738 -08:00 [DBG] Connection id "0HMOS60E7607F" started.
2023-03-03 13:43:43.740 -08:00 [DBG] Connection id "0HMOS60E7607G" accepted.
2023-03-03 13:43:43.743 -08:00 [DBG] Connection id "0HMOS60E7607G" started.
2023-03-03 13:43:43.761 -08:00 [DBG] Connection id "0HMOS60E7607F" received FIN.
2023-03-03 13:43:43.771 -08:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-03 13:43:43.771 -08:00 [DBG] Connection id "0HMOS60E7607F" stopped.
2023-03-03 13:43:43.772 -08:00 [DBG] Connection id "0HMOS60E7607F" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-03 13:43:43.772 -08:00 [DBG] Connection 0HMOS60E7607G established using the following protocol: "Tls12"
2023-03-03 13:43:43.782 -08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7152/api/Airliner application/json 581
2023-03-03 13:43:43.782 -08:00 [DBG] 1 candidate(s) found for the request path '/api/Airliner'
2023-03-03 13:43:43.782 -08:00 [DBG] Endpoint 'flight_data_server.Controllers.AirlinerController.GetAirliners (flight_data_server)' with route pattern 'api/Airliner' is valid for the request path '/api/Airliner'
2023-03-03 13:43:43.782 -08:00 [DBG] Request matched endpoint 'flight_data_server.Controllers.AirlinerController.GetAirliners (flight_data_server)'
2023-03-03 13:43:43.782 -08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-03-03 13:43:43.782 -08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2023-03-03 13:43:43.782 -08:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-03-03 13:43:43.785 -08:00 [DBG] Connection id "0HMOS60E7607G" completed keep alive response.
2023-03-03 13:43:43.785 -08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7152/api/Airliner application/json 581 - 401 0 - 2.8118ms
2023-03-03 13:43:43.785 -08:00 [DBG] Connection id "0HMOS60E7607G", Request id "0HMOS60E7607G:00000002": started reading request body.
2023-03-03 13:43:43.785 -08:00 [DBG] Connection id "0HMOS60E7607G", Request id "0HMOS60E7607G:00000002": done reading request body.
2023-03-03 13:44:29.139 -08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7152/api/Airliner? application/json 581
2023-03-03 13:44:29.140 -08:00 [DBG] 1 candidate(s) found for the request path '/api/Airliner'
2023-03-03 13:44:29.140 -08:00 [DBG] Endpoint 'flight_data_server.Controllers.AirlinerController.GetAirliners (flight_data_server)' with route pattern 'api/Airliner' is valid for the request path '/api/Airliner'
2023-03-03 13:44:29.140 -08:00 [DBG] Request matched endpoint 'flight_data_server.Controllers.AirlinerController.GetAirliners (flight_data_server)'
2023-03-03 13:44:29.140 -08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-03-03 13:44:29.140 -08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2023-03-03 13:44:29.140 -08:00 [ERR] Exception occurred while processing message.
System.InvalidOperationException: IDX20803: Unable to obtain configuration from: 'System.String'.
   at Microsoft.IdentityModel.Protocols.ConfigurationManager`1.GetConfigurationAsync(CancellationToken cancel)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-03-03 13:44:29.140 -08:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-03-03 13:44:29.141 -08:00 [DBG] Connection id "0HMOS60E7607G" completed keep alive response.
2023-03-03 13:44:29.141 -08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7152/api/Airliner? application/json 581 - 401 0 - 1.9482ms
2023-03-03 13:44:29.141 -08:00 [DBG] Connection id "0HMOS60E7607G", Request id "0HMOS60E7607G:00000003": started reading request body.
2023-03-03 13:44:29.141 -08:00 [DBG] Connection id "0HMOS60E7607G", Request id "0HMOS60E7607G:00000003": done reading request body.
2023-03-03 13:45:48.565 -08:00 [DBG] Connection id "0HMOS60E7607E" received FIN.
2023-03-03 13:45:48.568 -08:00 [DBG] Connection id "0HMOS60E7607E" is closed. The last processed stream ID was 29.
2023-03-03 13:45:48.570 -08:00 [DBG] Connection id "0HMOS60E7607E" sending FIN because: "The client closed the connection."
2023-03-03 13:45:48.572 -08:00 [DBG] Connection id "0HMOS60E7607E" stopped.
2023-03-03 13:48:09.832 -08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-03 13:48:10.336 -08:00 [INF] Entity Framework Core 6.0.13 initialized 'AirlinerDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.13' with options: None
2023-03-03 13:48:10.445 -08:00 [DBG] DetectChanges starting for 'AirlinerDBContext'.
2023-03-03 13:48:10.447 -08:00 [DBG] DetectChanges completed for 'AirlinerDBContext'.
2023-03-03 13:48:10.470 -08:00 [DBG] Generating up script for migration '20230303210654_flightdb2'.
2023-03-03 13:48:10.493 -08:00 [DBG] 'AirlinerDBContext' disposed.
2023-03-03 13:48:12.838 -08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-03 13:48:13.459 -08:00 [INF] Entity Framework Core 6.0.13 initialized 'FlightDataDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.13' with options: None
2023-03-03 13:48:13.606 -08:00 [DBG] DetectChanges starting for 'FlightDataDBContext'.
2023-03-03 13:48:13.609 -08:00 [DBG] DetectChanges completed for 'FlightDataDBContext'.
2023-03-03 13:48:13.642 -08:00 [DBG] Generating up script for migration '20230303210728_flightdb2'.
2023-03-03 13:48:13.660 -08:00 [DBG] 'FlightDataDBContext' disposed.
2023-03-03 13:49:24.944 -08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-03-03 13:49:25.092 -08:00 [DBG] Hosting starting
2023-03-03 13:49:25.251 -08:00 [INF] User profile is available. Using 'C:\Users\erolg\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-03-03 13:49:25.253 -08:00 [DBG] Reading data from file 'C:\Users\erolg\AppData\Local\ASP.NET\DataProtection-Keys\key-322def36-0d4b-4319-822b-9a978d52a69b.xml'.
2023-03-03 13:49:25.261 -08:00 [DBG] Found key {322def36-0d4b-4319-822b-9a978d52a69b}.
2023-03-03 13:49:25.270 -08:00 [DBG] Considering key {322def36-0d4b-4319-822b-9a978d52a69b} with expiration date 2023-04-14 01:02:54Z as default key.
2023-03-03 13:49:25.272 -08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-03-03 13:49:25.274 -08:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-03-03 13:49:25.275 -08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-03-03 13:49:25.279 -08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-03-03 13:49:25.280 -08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-03-03 13:49:25.283 -08:00 [DBG] Using key {322def36-0d4b-4319-822b-9a978d52a69b} as the default key.
2023-03-03 13:49:25.283 -08:00 [DBG] Key ring with default key {322def36-0d4b-4319-822b-9a978d52a69b} was loaded during application startup.
2023-03-03 13:49:25.445 -08:00 [DBG] Using development certificate: CN=localhost (Thumbprint: E245E95D59854C93E6C7A7248A3D9D7BFC30FCBE)
2023-03-03 13:49:25.484 -08:00 [INF] Now listening on: https://localhost:7152
2023-03-03 13:49:25.484 -08:00 [INF] Now listening on: http://localhost:5035
2023-03-03 13:49:25.484 -08:00 [DBG] Loaded hosting startup assembly flight_data_server
2023-03-03 13:49:25.484 -08:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-03-03 13:49:25.484 -08:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-03-03 13:49:25.484 -08:00 [INF] Application started. Press Ctrl+C to shut down.
2023-03-03 13:49:25.484 -08:00 [INF] Hosting environment: Development
2023-03-03 13:49:25.484 -08:00 [INF] Content root path: D:\.NET\Flight-Data-Server-Asp.Net\flight_data_server\
2023-03-03 13:49:25.484 -08:00 [DBG] Hosting started
2023-03-03 13:49:25.672 -08:00 [DBG] Connection id "0HMOS64K3BS98" accepted.
2023-03-03 13:49:25.672 -08:00 [DBG] Connection id "0HMOS64K3BS99" accepted.
2023-03-03 13:49:25.683 -08:00 [DBG] Connection id "0HMOS64K3BS98" started.
2023-03-03 13:49:25.683 -08:00 [DBG] Connection id "0HMOS64K3BS99" started.
2023-03-03 13:49:25.684 -08:00 [DBG] Connection id "0HMOS64K3BS99" received FIN.
2023-03-03 13:49:25.684 -08:00 [DBG] Connection id "0HMOS64K3BS98" received FIN.
2023-03-03 13:49:25.698 -08:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-03 13:49:25.698 -08:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-03 13:49:25.733 -08:00 [DBG] Connection id "0HMOS64K3BS99" stopped.
2023-03-03 13:49:25.733 -08:00 [DBG] Connection id "0HMOS64K3BS98" stopped.
2023-03-03 13:49:25.736 -08:00 [DBG] Connection id "0HMOS64K3BS99" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-03 13:49:25.736 -08:00 [DBG] Connection id "0HMOS64K3BS98" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-03 13:49:25.936 -08:00 [DBG] Connection id "0HMOS64K3BS9A" accepted.
2023-03-03 13:49:25.937 -08:00 [DBG] Connection id "0HMOS64K3BS9A" started.
2023-03-03 13:49:25.994 -08:00 [DBG] Connection 0HMOS64K3BS9A established using the following protocol: "Tls12"
2023-03-03 13:49:26.052 -08:00 [INF] Request starting HTTP/2 GET https://localhost:7152/swagger/index.html - -
2023-03-03 13:49:26.090 -08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-03-03 13:49:26.114 -08:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-03-03 13:49:26.115 -08:00 [DBG] Request did not match any endpoints
2023-03-03 13:49:26.230 -08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-03-03 13:49:26.360 -08:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-03-03 13:49:26.364 -08:00 [INF] Request finished HTTP/2 GET https://localhost:7152/swagger/index.html - - - 200 - text/html;charset=utf-8 316.1479ms
2023-03-03 13:49:26.400 -08:00 [INF] Request starting HTTP/2 GET https://localhost:7152/swagger/swagger-ui.css - -
2023-03-03 13:49:26.401 -08:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2023-03-03 13:49:26.401 -08:00 [DBG] Request did not match any endpoints
2023-03-03 13:49:26.408 -08:00 [DBG] The file transmission was cancelled
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Threading.CancellationToken.ThrowIfCancellationRequested()
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.SendAsync()
2023-03-03 13:49:26.409 -08:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-03-03 13:49:26.409 -08:00 [INF] Request finished HTTP/2 GET https://localhost:7152/swagger/swagger-ui.css - - - 0 143632 text/css 9.0474ms
2023-03-03 13:49:26.448 -08:00 [INF] Request starting HTTP/2 GET https://localhost:7152/_framework/aspnetcore-browser-refresh.js - -
2023-03-03 13:49:26.448 -08:00 [INF] Request starting HTTP/2 GET https://localhost:7152/_vs/browserLink - -
2023-03-03 13:49:26.456 -08:00 [INF] Request finished HTTP/2 GET https://localhost:7152/_framework/aspnetcore-browser-refresh.js - - - 200 12006 application/javascript;+charset=utf-8 7.9647ms
2023-03-03 13:49:26.467 -08:00 [INF] Request finished HTTP/2 GET https://localhost:7152/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 18.5716ms
2023-03-03 13:49:26.537 -08:00 [INF] Request starting HTTP/2 GET https://localhost:7152/swagger/favicon-32x32.png - -
2023-03-03 13:49:26.537 -08:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2023-03-03 13:49:26.537 -08:00 [DBG] Request did not match any endpoints
2023-03-03 13:49:26.539 -08:00 [DBG] The file transmission was cancelled
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Threading.CancellationToken.ThrowIfCancellationRequested()
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.SendAsync()
2023-03-03 13:49:26.539 -08:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2023-03-03 13:49:26.539 -08:00 [INF] Request finished HTTP/2 GET https://localhost:7152/swagger/favicon-32x32.png - - - 0 628 image/png 2.1573ms
2023-03-03 13:49:26.625 -08:00 [INF] Request starting HTTP/2 GET https://localhost:7152/swagger/v1/swagger.json - -
2023-03-03 13:49:26.625 -08:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-03-03 13:49:26.625 -08:00 [DBG] Request did not match any endpoints
2023-03-03 13:49:26.777 -08:00 [INF] Request finished HTTP/2 GET https://localhost:7152/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 151.9081ms
2023-03-03 13:50:39.206 -08:00 [INF] Request starting HTTP/2 POST https://localhost:7152/api/UsersAuth/login application/json 50
2023-03-03 13:50:39.218 -08:00 [DBG] 1 candidate(s) found for the request path '/api/UsersAuth/login'
2023-03-03 13:50:39.221 -08:00 [DBG] Endpoint 'flight_data_server.Controllers.UsersController.Login (flight_data_server)' with route pattern 'api/UsersAuth/login' is valid for the request path '/api/UsersAuth/login'
2023-03-03 13:50:39.221 -08:00 [DBG] Request matched endpoint 'flight_data_server.Controllers.UsersController.Login (flight_data_server)'
2023-03-03 13:50:39.221 -08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-03-03 13:50:39.292 -08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-03-03 13:50:39.293 -08:00 [INF] Executing endpoint 'flight_data_server.Controllers.UsersController.Login (flight_data_server)'
2023-03-03 13:50:39.322 -08:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(flight_data_server.Models.User.LoginRequest) on controller flight_data_server.Controllers.UsersController (flight_data_server).
2023-03-03 13:50:39.323 -08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-03 13:50:39.323 -08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-03 13:50:39.323 -08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-03 13:50:39.323 -08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-03 13:50:39.323 -08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-03 13:50:39.324 -08:00 [DBG] Executing controller factory for controller flight_data_server.Controllers.UsersController (flight_data_server)
2023-03-03 13:50:39.468 -08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-03 13:50:39.494 -08:00 [DBG] Executed controller factory for controller flight_data_server.Controllers.UsersController (flight_data_server)
2023-03-03 13:50:39.504 -08:00 [DBG] Attempting to bind parameter 'model' of type 'flight_data_server.Models.User.LoginRequest' ...
2023-03-03 13:50:39.506 -08:00 [DBG] Attempting to bind parameter 'model' of type 'flight_data_server.Models.User.LoginRequest' using the name '' in request data ...
2023-03-03 13:50:39.507 -08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-03-03 13:50:39.510 -08:00 [DBG] Connection id "0HMOS64K3BS9A", Request id "0HMOS64K3BS9A:0000001B": started reading request body.
2023-03-03 13:50:39.511 -08:00 [DBG] Connection id "0HMOS64K3BS9A", Request id "0HMOS64K3BS9A:0000001B": done reading request body.
2023-03-03 13:50:39.516 -08:00 [DBG] JSON input formatter succeeded, deserializing to type 'flight_data_server.Models.User.LoginRequest'
2023-03-03 13:50:39.516 -08:00 [DBG] Done attempting to bind parameter 'model' of type 'flight_data_server.Models.User.LoginRequest'.
2023-03-03 13:50:39.516 -08:00 [DBG] Done attempting to bind parameter 'model' of type 'flight_data_server.Models.User.LoginRequest'.
2023-03-03 13:50:39.516 -08:00 [DBG] Attempting to validate the bound parameter 'model' of type 'flight_data_server.Models.User.LoginRequest' ...
2023-03-03 13:50:39.522 -08:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'flight_data_server.Models.User.LoginRequest'.
2023-03-03 13:50:40.152 -08:00 [INF] Entity Framework Core 6.0.13 initialized 'UserDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.13' with options: None
2023-03-03 13:50:40.232 -08:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.UserName.ToLower() == __ToLower_0 && u.Password == __loginRequest_Password_1)'
2023-03-03 13:50:40.614 -08:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.UserId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Password (string), 1], [Property: User.Role (string), 2], [Property: User.UserName (string), 3] }
        SELECT TOP(1) u.UserId, u.Password, u.Role, u.UserName
        FROM UserData AS u
        WHERE (LOWER(u.UserName) == @__ToLower_0) && (u.Password == @__loginRequest_Password_1)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
    flight_data_server.Database.UserDBContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-03-03 13:50:40.677 -08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-03 13:50:40.721 -08:00 [DBG] Created DbCommand for 'ExecuteReader' (40ms).
2023-03-03 13:50:40.735 -08:00 [DBG] Opening connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:50:41.502 -08:00 [DBG] Opened connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:50:41.517 -08:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequest_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Password], [u].[Role], [u].[UserName]
FROM [UserData] AS [u]
WHERE (LOWER([u].[UserName]) = @__ToLower_0) AND ([u].[Password] = @__loginRequest_Password_1)
2023-03-03 13:50:41.649 -08:00 [INF] Executed DbCommand (137ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequest_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Password], [u].[Role], [u].[UserName]
FROM [UserData] AS [u]
WHERE (LOWER([u].[UserName]) = @__ToLower_0) AND ([u].[Password] = @__loginRequest_Password_1)
2023-03-03 13:50:41.689 -08:00 [DBG] Context 'UserDBContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-03 13:50:41.721 -08:00 [DBG] A data reader was disposed.
2023-03-03 13:50:41.725 -08:00 [DBG] Closing connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:50:41.734 -08:00 [DBG] Closed connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 13:50:41.876 -08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-03-03 13:50:41.877 -08:00 [DBG] No information found on request to perform content negotiation.
2023-03-03 13:50:41.877 -08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-03-03 13:50:41.877 -08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-03-03 13:50:41.878 -08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-03-03 13:50:41.878 -08:00 [INF] Executing OkObjectResult, writing value of type 'flight_data_server.Models.APIResponse'.
2023-03-03 13:50:41.887 -08:00 [INF] Executed action flight_data_server.Controllers.UsersController.Login (flight_data_server) in 2559.6054ms
2023-03-03 13:50:41.888 -08:00 [INF] Executed endpoint 'flight_data_server.Controllers.UsersController.Login (flight_data_server)'
2023-03-03 13:50:41.892 -08:00 [DBG] 'UserDBContext' disposed.
2023-03-03 13:50:41.896 -08:00 [INF] Request finished HTTP/2 POST https://localhost:7152/api/UsersAuth/login application/json 50 - 200 - application/json;+charset=utf-8 2689.8272ms
2023-03-03 13:52:28.577 -08:00 [INF] Request starting HTTP/2 GET https://localhost:7152/api/FlightData - -
2023-03-03 13:52:28.580 -08:00 [DBG] 1 candidate(s) found for the request path '/api/FlightData'
2023-03-03 13:52:28.580 -08:00 [DBG] Endpoint 'flight_data_server.Controllers.FlightDataController.GetFlightData (flight_data_server)' with route pattern 'api/FlightData' is valid for the request path '/api/FlightData'
2023-03-03 13:52:28.580 -08:00 [DBG] Request matched endpoint 'flight_data_server.Controllers.FlightDataController.GetFlightData (flight_data_server)'
2023-03-03 13:52:28.580 -08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-03-03 13:52:28.586 -08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2023-03-03 13:52:28.594 -08:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-03-03 13:52:28.594 -08:00 [INF] Request finished HTTP/2 GET https://localhost:7152/api/FlightData - - - 401 0 - 19.0013ms
2023-03-03 13:52:32.961 -08:00 [INF] Request starting HTTP/2 GET https://localhost:7152/api/FlightData - -
2023-03-03 13:52:32.961 -08:00 [DBG] 1 candidate(s) found for the request path '/api/FlightData'
2023-03-03 13:52:32.961 -08:00 [DBG] Endpoint 'flight_data_server.Controllers.FlightDataController.GetFlightData (flight_data_server)' with route pattern 'api/FlightData' is valid for the request path '/api/FlightData'
2023-03-03 13:52:32.961 -08:00 [DBG] Request matched endpoint 'flight_data_server.Controllers.FlightDataController.GetFlightData (flight_data_server)'
2023-03-03 13:52:32.961 -08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-03-03 13:52:32.961 -08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2023-03-03 13:52:32.963 -08:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-03-03 13:52:32.963 -08:00 [INF] Request finished HTTP/2 GET https://localhost:7152/api/FlightData - - - 401 0 - 2.3510ms
2023-03-03 13:52:43.502 -08:00 [INF] Request starting HTTP/2 GET https://localhost:7152/api/FlightData - -
2023-03-03 13:52:43.502 -08:00 [DBG] 1 candidate(s) found for the request path '/api/FlightData'
2023-03-03 13:52:43.502 -08:00 [DBG] Endpoint 'flight_data_server.Controllers.FlightDataController.GetFlightData (flight_data_server)' with route pattern 'api/FlightData' is valid for the request path '/api/FlightData'
2023-03-03 13:52:43.502 -08:00 [DBG] Request matched endpoint 'flight_data_server.Controllers.FlightDataController.GetFlightData (flight_data_server)'
2023-03-03 13:52:43.502 -08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-03-03 13:52:43.503 -08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2023-03-03 13:52:43.503 -08:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-03-03 13:52:43.503 -08:00 [INF] Request finished HTTP/2 GET https://localhost:7152/api/FlightData - - - 401 0 - 0.9797ms
2023-03-03 13:55:33.424 -08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-03 13:55:33.903 -08:00 [INF] Entity Framework Core 6.0.13 initialized 'AirlinerDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.13' with options: None
2023-03-03 13:55:34.013 -08:00 [DBG] DetectChanges starting for 'AirlinerDBContext'.
2023-03-03 13:55:34.015 -08:00 [DBG] DetectChanges completed for 'AirlinerDBContext'.
2023-03-03 13:55:34.037 -08:00 [DBG] Generating up script for migration '20230303210654_flightdb2'.
2023-03-03 13:55:34.062 -08:00 [DBG] 'AirlinerDBContext' disposed.
2023-03-03 13:55:36.145 -08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-03 13:55:36.604 -08:00 [INF] Entity Framework Core 6.0.13 initialized 'FlightDataDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.13' with options: None
2023-03-03 13:55:36.715 -08:00 [DBG] DetectChanges starting for 'FlightDataDBContext'.
2023-03-03 13:55:36.717 -08:00 [DBG] DetectChanges completed for 'FlightDataDBContext'.
2023-03-03 13:55:36.738 -08:00 [DBG] Generating up script for migration '20230303210728_flightdb2'.
2023-03-03 13:55:36.749 -08:00 [DBG] 'FlightDataDBContext' disposed.
2023-03-03 14:01:14.155 -08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-03-03 14:01:14.290 -08:00 [DBG] Hosting starting
2023-03-03 14:01:14.333 -08:00 [INF] User profile is available. Using 'C:\Users\erolg\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-03-03 14:01:14.336 -08:00 [DBG] Reading data from file 'C:\Users\erolg\AppData\Local\ASP.NET\DataProtection-Keys\key-322def36-0d4b-4319-822b-9a978d52a69b.xml'.
2023-03-03 14:01:14.346 -08:00 [DBG] Found key {322def36-0d4b-4319-822b-9a978d52a69b}.
2023-03-03 14:01:14.356 -08:00 [DBG] Considering key {322def36-0d4b-4319-822b-9a978d52a69b} with expiration date 2023-04-14 01:02:54Z as default key.
2023-03-03 14:01:14.357 -08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-03-03 14:01:14.359 -08:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-03-03 14:01:14.360 -08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-03-03 14:01:14.364 -08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-03-03 14:01:14.366 -08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-03-03 14:01:14.369 -08:00 [DBG] Using key {322def36-0d4b-4319-822b-9a978d52a69b} as the default key.
2023-03-03 14:01:14.369 -08:00 [DBG] Key ring with default key {322def36-0d4b-4319-822b-9a978d52a69b} was loaded during application startup.
2023-03-03 14:01:14.513 -08:00 [DBG] Using development certificate: CN=localhost (Thumbprint: E245E95D59854C93E6C7A7248A3D9D7BFC30FCBE)
2023-03-03 14:01:14.547 -08:00 [INF] Now listening on: https://localhost:7152
2023-03-03 14:01:14.547 -08:00 [INF] Now listening on: http://localhost:5035
2023-03-03 14:01:14.547 -08:00 [DBG] Loaded hosting startup assembly flight_data_server
2023-03-03 14:01:14.547 -08:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-03-03 14:01:14.547 -08:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-03-03 14:01:14.547 -08:00 [INF] Application started. Press Ctrl+C to shut down.
2023-03-03 14:01:14.547 -08:00 [INF] Hosting environment: Development
2023-03-03 14:01:14.547 -08:00 [INF] Content root path: D:\.NET\Flight-Data-Server-Asp.Net\flight_data_server\
2023-03-03 14:01:14.547 -08:00 [DBG] Hosting started
2023-03-03 14:01:14.842 -08:00 [DBG] Connection id "0HMOS6B7EJGFA" received FIN.
2023-03-03 14:01:14.842 -08:00 [DBG] Connection id "0HMOS6B7EJGF9" received FIN.
2023-03-03 14:01:14.852 -08:00 [DBG] Connection id "0HMOS6B7EJGFA" accepted.
2023-03-03 14:01:14.852 -08:00 [DBG] Connection id "0HMOS6B7EJGF9" accepted.
2023-03-03 14:01:14.853 -08:00 [DBG] Connection id "0HMOS6B7EJGF9" started.
2023-03-03 14:01:14.853 -08:00 [DBG] Connection id "0HMOS6B7EJGFA" started.
2023-03-03 14:01:14.869 -08:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-03 14:01:14.869 -08:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-03 14:01:14.902 -08:00 [DBG] Connection id "0HMOS6B7EJGFA" stopped.
2023-03-03 14:01:14.902 -08:00 [DBG] Connection id "0HMOS6B7EJGF9" stopped.
2023-03-03 14:01:14.909 -08:00 [DBG] Connection id "0HMOS6B7EJGFA" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-03 14:01:14.909 -08:00 [DBG] Connection id "0HMOS6B7EJGF9" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-03 14:01:15.106 -08:00 [DBG] Connection id "0HMOS6B7EJGFB" accepted.
2023-03-03 14:01:15.106 -08:00 [DBG] Connection id "0HMOS6B7EJGFB" started.
2023-03-03 14:01:15.158 -08:00 [DBG] Connection 0HMOS6B7EJGFB established using the following protocol: "Tls12"
2023-03-03 14:01:15.218 -08:00 [INF] Request starting HTTP/2 GET https://localhost:7152/swagger/index.html - -
2023-03-03 14:01:15.257 -08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-03-03 14:01:15.284 -08:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-03-03 14:01:15.284 -08:00 [DBG] Request did not match any endpoints
2023-03-03 14:01:15.384 -08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-03-03 14:01:15.506 -08:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-03-03 14:01:15.510 -08:00 [INF] Request finished HTTP/2 GET https://localhost:7152/swagger/index.html - - - 200 - text/html;charset=utf-8 295.5199ms
2023-03-03 14:01:15.549 -08:00 [INF] Request starting HTTP/2 GET https://localhost:7152/swagger/swagger-ui.css - -
2023-03-03 14:01:15.549 -08:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2023-03-03 14:01:15.549 -08:00 [DBG] Request did not match any endpoints
2023-03-03 14:01:15.559 -08:00 [DBG] The file transmission was cancelled
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Threading.CancellationToken.ThrowIfCancellationRequested()
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.SendAsync()
2023-03-03 14:01:15.561 -08:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-03-03 14:01:15.561 -08:00 [INF] Request finished HTTP/2 GET https://localhost:7152/swagger/swagger-ui.css - - - 0 143632 text/css 12.1300ms
2023-03-03 14:01:15.608 -08:00 [INF] Request starting HTTP/2 GET https://localhost:7152/_framework/aspnetcore-browser-refresh.js - -
2023-03-03 14:01:15.608 -08:00 [INF] Request starting HTTP/2 GET https://localhost:7152/_vs/browserLink - -
2023-03-03 14:01:15.618 -08:00 [INF] Request finished HTTP/2 GET https://localhost:7152/_framework/aspnetcore-browser-refresh.js - - - 200 12006 application/javascript;+charset=utf-8 10.0328ms
2023-03-03 14:01:15.629 -08:00 [INF] Request finished HTTP/2 GET https://localhost:7152/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 21.1876ms
2023-03-03 14:01:15.688 -08:00 [INF] Request starting HTTP/2 GET https://localhost:7152/swagger/favicon-32x32.png - -
2023-03-03 14:01:15.688 -08:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2023-03-03 14:01:15.688 -08:00 [DBG] Request did not match any endpoints
2023-03-03 14:01:15.690 -08:00 [DBG] The file transmission was cancelled
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Threading.CancellationToken.ThrowIfCancellationRequested()
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.SendAsync()
2023-03-03 14:01:15.690 -08:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2023-03-03 14:01:15.690 -08:00 [INF] Request finished HTTP/2 GET https://localhost:7152/swagger/favicon-32x32.png - - - 0 628 image/png 2.2701ms
2023-03-03 14:01:15.777 -08:00 [INF] Request starting HTTP/2 GET https://localhost:7152/swagger/v1/swagger.json - -
2023-03-03 14:01:15.777 -08:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-03-03 14:01:15.778 -08:00 [DBG] Request did not match any endpoints
2023-03-03 14:01:15.921 -08:00 [INF] Request finished HTTP/2 GET https://localhost:7152/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 143.9695ms
2023-03-03 14:02:06.794 -08:00 [INF] Request starting HTTP/2 POST https://localhost:7152/api/UsersAuth/login application/json 50
2023-03-03 14:02:06.805 -08:00 [DBG] 1 candidate(s) found for the request path '/api/UsersAuth/login'
2023-03-03 14:02:06.809 -08:00 [DBG] Endpoint 'flight_data_server.Controllers.UsersController.Login (flight_data_server)' with route pattern 'api/UsersAuth/login' is valid for the request path '/api/UsersAuth/login'
2023-03-03 14:02:06.809 -08:00 [DBG] Request matched endpoint 'flight_data_server.Controllers.UsersController.Login (flight_data_server)'
2023-03-03 14:02:06.809 -08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-03-03 14:02:06.881 -08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-03-03 14:02:06.881 -08:00 [INF] Executing endpoint 'flight_data_server.Controllers.UsersController.Login (flight_data_server)'
2023-03-03 14:02:06.909 -08:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(flight_data_server.Models.User.LoginRequest) on controller flight_data_server.Controllers.UsersController (flight_data_server).
2023-03-03 14:02:06.910 -08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-03 14:02:06.910 -08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-03 14:02:06.910 -08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-03 14:02:06.910 -08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-03 14:02:06.910 -08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-03 14:02:06.911 -08:00 [DBG] Executing controller factory for controller flight_data_server.Controllers.UsersController (flight_data_server)
2023-03-03 14:02:07.052 -08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-03 14:02:07.078 -08:00 [DBG] Executed controller factory for controller flight_data_server.Controllers.UsersController (flight_data_server)
2023-03-03 14:02:07.090 -08:00 [DBG] Attempting to bind parameter 'model' of type 'flight_data_server.Models.User.LoginRequest' ...
2023-03-03 14:02:07.093 -08:00 [DBG] Attempting to bind parameter 'model' of type 'flight_data_server.Models.User.LoginRequest' using the name '' in request data ...
2023-03-03 14:02:07.093 -08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-03-03 14:02:07.098 -08:00 [DBG] Connection id "0HMOS6B7EJGFB", Request id "0HMOS6B7EJGFB:0000001B": started reading request body.
2023-03-03 14:02:07.098 -08:00 [DBG] Connection id "0HMOS6B7EJGFB", Request id "0HMOS6B7EJGFB:0000001B": done reading request body.
2023-03-03 14:02:07.104 -08:00 [DBG] JSON input formatter succeeded, deserializing to type 'flight_data_server.Models.User.LoginRequest'
2023-03-03 14:02:07.104 -08:00 [DBG] Done attempting to bind parameter 'model' of type 'flight_data_server.Models.User.LoginRequest'.
2023-03-03 14:02:07.104 -08:00 [DBG] Done attempting to bind parameter 'model' of type 'flight_data_server.Models.User.LoginRequest'.
2023-03-03 14:02:07.104 -08:00 [DBG] Attempting to validate the bound parameter 'model' of type 'flight_data_server.Models.User.LoginRequest' ...
2023-03-03 14:02:07.111 -08:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'flight_data_server.Models.User.LoginRequest'.
2023-03-03 14:02:07.725 -08:00 [INF] Entity Framework Core 6.0.13 initialized 'UserDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.13' with options: None
2023-03-03 14:02:07.802 -08:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.UserName.ToLower() == __ToLower_0 && u.Password == __loginRequest_Password_1)'
2023-03-03 14:02:08.184 -08:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.UserId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Password (string), 1], [Property: User.Role (string), 2], [Property: User.UserName (string), 3] }
        SELECT TOP(1) u.UserId, u.Password, u.Role, u.UserName
        FROM UserData AS u
        WHERE (LOWER(u.UserName) == @__ToLower_0) && (u.Password == @__loginRequest_Password_1)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
    flight_data_server.Database.UserDBContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-03-03 14:02:08.257 -08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-03 14:02:08.300 -08:00 [DBG] Created DbCommand for 'ExecuteReader' (40ms).
2023-03-03 14:02:08.315 -08:00 [DBG] Opening connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 14:02:09.098 -08:00 [DBG] Opened connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 14:02:09.113 -08:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequest_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Password], [u].[Role], [u].[UserName]
FROM [UserData] AS [u]
WHERE (LOWER([u].[UserName]) = @__ToLower_0) AND ([u].[Password] = @__loginRequest_Password_1)
2023-03-03 14:02:09.244 -08:00 [INF] Executed DbCommand (136ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequest_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Password], [u].[Role], [u].[UserName]
FROM [UserData] AS [u]
WHERE (LOWER([u].[UserName]) = @__ToLower_0) AND ([u].[Password] = @__loginRequest_Password_1)
2023-03-03 14:02:09.256 -08:00 [DBG] A data reader was disposed.
2023-03-03 14:02:09.260 -08:00 [DBG] Closing connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 14:02:09.269 -08:00 [DBG] Closed connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 14:02:09.271 -08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-03-03 14:02:09.273 -08:00 [DBG] No information found on request to perform content negotiation.
2023-03-03 14:02:09.273 -08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-03-03 14:02:09.273 -08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-03-03 14:02:09.274 -08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-03-03 14:02:09.274 -08:00 [INF] Executing BadRequestObjectResult, writing value of type 'flight_data_server.Models.APIResponse'.
2023-03-03 14:02:09.282 -08:00 [INF] Executed action flight_data_server.Controllers.UsersController.Login (flight_data_server) in 2367.4863ms
2023-03-03 14:02:09.283 -08:00 [INF] Executed endpoint 'flight_data_server.Controllers.UsersController.Login (flight_data_server)'
2023-03-03 14:02:09.287 -08:00 [DBG] 'UserDBContext' disposed.
2023-03-03 14:02:09.291 -08:00 [INF] Request finished HTTP/2 POST https://localhost:7152/api/UsersAuth/login application/json 50 - 400 - application/json;+charset=utf-8 2497.2336ms
2023-03-03 14:02:16.197 -08:00 [INF] Request starting HTTP/2 POST https://localhost:7152/api/UsersAuth/login application/json 50
2023-03-03 14:02:16.199 -08:00 [DBG] 1 candidate(s) found for the request path '/api/UsersAuth/login'
2023-03-03 14:02:16.199 -08:00 [DBG] Endpoint 'flight_data_server.Controllers.UsersController.Login (flight_data_server)' with route pattern 'api/UsersAuth/login' is valid for the request path '/api/UsersAuth/login'
2023-03-03 14:02:16.199 -08:00 [DBG] Request matched endpoint 'flight_data_server.Controllers.UsersController.Login (flight_data_server)'
2023-03-03 14:02:16.199 -08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-03-03 14:02:16.200 -08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-03-03 14:02:16.200 -08:00 [INF] Executing endpoint 'flight_data_server.Controllers.UsersController.Login (flight_data_server)'
2023-03-03 14:02:16.200 -08:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(flight_data_server.Models.User.LoginRequest) on controller flight_data_server.Controllers.UsersController (flight_data_server).
2023-03-03 14:02:16.200 -08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-03 14:02:16.200 -08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-03 14:02:16.201 -08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-03 14:02:16.201 -08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-03 14:02:16.201 -08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-03 14:02:16.201 -08:00 [DBG] Executing controller factory for controller flight_data_server.Controllers.UsersController (flight_data_server)
2023-03-03 14:02:16.201 -08:00 [DBG] Executed controller factory for controller flight_data_server.Controllers.UsersController (flight_data_server)
2023-03-03 14:02:16.201 -08:00 [DBG] Attempting to bind parameter 'model' of type 'flight_data_server.Models.User.LoginRequest' ...
2023-03-03 14:02:16.201 -08:00 [DBG] Attempting to bind parameter 'model' of type 'flight_data_server.Models.User.LoginRequest' using the name '' in request data ...
2023-03-03 14:02:16.201 -08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-03-03 14:02:16.201 -08:00 [DBG] Connection id "0HMOS6B7EJGFB", Request id "0HMOS6B7EJGFB:0000001D": started reading request body.
2023-03-03 14:02:16.201 -08:00 [DBG] Connection id "0HMOS6B7EJGFB", Request id "0HMOS6B7EJGFB:0000001D": done reading request body.
2023-03-03 14:02:16.201 -08:00 [DBG] JSON input formatter succeeded, deserializing to type 'flight_data_server.Models.User.LoginRequest'
2023-03-03 14:02:16.201 -08:00 [DBG] Done attempting to bind parameter 'model' of type 'flight_data_server.Models.User.LoginRequest'.
2023-03-03 14:02:16.201 -08:00 [DBG] Done attempting to bind parameter 'model' of type 'flight_data_server.Models.User.LoginRequest'.
2023-03-03 14:02:16.202 -08:00 [DBG] Attempting to validate the bound parameter 'model' of type 'flight_data_server.Models.User.LoginRequest' ...
2023-03-03 14:02:16.202 -08:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'flight_data_server.Models.User.LoginRequest'.
2023-03-03 14:02:16.213 -08:00 [INF] Entity Framework Core 6.0.13 initialized 'UserDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.13' with options: None
2023-03-03 14:02:16.217 -08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-03 14:02:16.217 -08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-03-03 14:02:16.217 -08:00 [DBG] Opening connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 14:02:16.219 -08:00 [DBG] Opened connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 14:02:16.219 -08:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequest_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Password], [u].[Role], [u].[UserName]
FROM [UserData] AS [u]
WHERE (LOWER([u].[UserName]) = @__ToLower_0) AND ([u].[Password] = @__loginRequest_Password_1)
2023-03-03 14:02:16.303 -08:00 [INF] Executed DbCommand (85ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequest_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Password], [u].[Role], [u].[UserName]
FROM [UserData] AS [u]
WHERE (LOWER([u].[UserName]) = @__ToLower_0) AND ([u].[Password] = @__loginRequest_Password_1)
2023-03-03 14:02:16.303 -08:00 [DBG] A data reader was disposed.
2023-03-03 14:02:16.303 -08:00 [DBG] Closing connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 14:02:16.304 -08:00 [DBG] Closed connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 14:02:16.304 -08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-03-03 14:02:16.304 -08:00 [DBG] No information found on request to perform content negotiation.
2023-03-03 14:02:16.304 -08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-03-03 14:02:16.304 -08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-03-03 14:02:16.304 -08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-03-03 14:02:16.304 -08:00 [INF] Executing BadRequestObjectResult, writing value of type 'flight_data_server.Models.APIResponse'.
2023-03-03 14:02:16.304 -08:00 [INF] Executed action flight_data_server.Controllers.UsersController.Login (flight_data_server) in 103.3797ms
2023-03-03 14:02:16.304 -08:00 [INF] Executed endpoint 'flight_data_server.Controllers.UsersController.Login (flight_data_server)'
2023-03-03 14:02:16.304 -08:00 [DBG] 'UserDBContext' disposed.
2023-03-03 14:02:16.304 -08:00 [INF] Request finished HTTP/2 POST https://localhost:7152/api/UsersAuth/login application/json 50 - 400 - application/json;+charset=utf-8 107.2823ms
2023-03-03 14:05:07.308 -08:00 [DBG] Connection id "0HMOS6B7EJGFB" received FIN.
2023-03-03 14:05:07.317 -08:00 [DBG] Connection id "0HMOS6B7EJGFB" is closing.
2023-03-03 14:05:07.318 -08:00 [DBG] Connection id "0HMOS6B7EJGFB" is closed. The last processed stream ID was 29.
2023-03-03 14:05:07.324 -08:00 [DBG] Connection id "0HMOS6B7EJGFB" sending FIN because: "The client closed the connection."
2023-03-03 14:05:07.326 -08:00 [DBG] Connection id "0HMOS6B7EJGFB" stopped.
2023-03-03 14:09:05.726 -08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-03 14:09:06.198 -08:00 [INF] Entity Framework Core 6.0.13 initialized 'AirlinerDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.13' with options: None
2023-03-03 14:09:06.310 -08:00 [DBG] DetectChanges starting for 'AirlinerDBContext'.
2023-03-03 14:09:06.313 -08:00 [DBG] DetectChanges completed for 'AirlinerDBContext'.
2023-03-03 14:09:06.335 -08:00 [DBG] Generating up script for migration '20230303210654_flightdb2'.
2023-03-03 14:09:06.359 -08:00 [DBG] 'AirlinerDBContext' disposed.
2023-03-03 14:09:08.454 -08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-03 14:09:08.914 -08:00 [INF] Entity Framework Core 6.0.13 initialized 'FlightDataDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.13' with options: None
2023-03-03 14:09:09.026 -08:00 [DBG] DetectChanges starting for 'FlightDataDBContext'.
2023-03-03 14:09:09.028 -08:00 [DBG] DetectChanges completed for 'FlightDataDBContext'.
2023-03-03 14:09:09.049 -08:00 [DBG] Generating up script for migration '20230303210728_flightdb2'.
2023-03-03 14:09:09.061 -08:00 [DBG] 'FlightDataDBContext' disposed.
2023-03-03 14:12:09.253 -08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-03-03 14:12:09.412 -08:00 [DBG] Hosting starting
2023-03-03 14:12:09.465 -08:00 [INF] User profile is available. Using 'C:\Users\erolg\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-03-03 14:12:09.469 -08:00 [DBG] Reading data from file 'C:\Users\erolg\AppData\Local\ASP.NET\DataProtection-Keys\key-322def36-0d4b-4319-822b-9a978d52a69b.xml'.
2023-03-03 14:12:09.480 -08:00 [DBG] Found key {322def36-0d4b-4319-822b-9a978d52a69b}.
2023-03-03 14:12:09.490 -08:00 [DBG] Considering key {322def36-0d4b-4319-822b-9a978d52a69b} with expiration date 2023-04-14 01:02:54Z as default key.
2023-03-03 14:12:09.492 -08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-03-03 14:12:09.494 -08:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-03-03 14:12:09.495 -08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-03-03 14:12:09.499 -08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-03-03 14:12:09.500 -08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-03-03 14:12:09.503 -08:00 [DBG] Using key {322def36-0d4b-4319-822b-9a978d52a69b} as the default key.
2023-03-03 14:12:09.503 -08:00 [DBG] Key ring with default key {322def36-0d4b-4319-822b-9a978d52a69b} was loaded during application startup.
2023-03-03 14:12:09.648 -08:00 [DBG] Using development certificate: CN=localhost (Thumbprint: E245E95D59854C93E6C7A7248A3D9D7BFC30FCBE)
2023-03-03 14:12:09.688 -08:00 [INF] Now listening on: https://localhost:7152
2023-03-03 14:12:09.688 -08:00 [INF] Now listening on: http://localhost:5035
2023-03-03 14:12:09.688 -08:00 [DBG] Loaded hosting startup assembly flight_data_server
2023-03-03 14:12:09.688 -08:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-03-03 14:12:09.688 -08:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-03-03 14:12:09.688 -08:00 [INF] Application started. Press Ctrl+C to shut down.
2023-03-03 14:12:09.688 -08:00 [INF] Hosting environment: Development
2023-03-03 14:12:09.688 -08:00 [INF] Content root path: D:\.NET\Flight-Data-Server-Asp.Net\flight_data_server\
2023-03-03 14:12:09.688 -08:00 [DBG] Hosting started
2023-03-03 14:12:10.031 -08:00 [DBG] Connection id "0HMOS6HAMV4QF" received FIN.
2023-03-03 14:12:10.031 -08:00 [DBG] Connection id "0HMOS6HAMV4QG" received FIN.
2023-03-03 14:12:10.039 -08:00 [DBG] Connection id "0HMOS6HAMV4QG" accepted.
2023-03-03 14:12:10.039 -08:00 [DBG] Connection id "0HMOS6HAMV4QF" accepted.
2023-03-03 14:12:10.040 -08:00 [DBG] Connection id "0HMOS6HAMV4QF" started.
2023-03-03 14:12:10.040 -08:00 [DBG] Connection id "0HMOS6HAMV4QG" started.
2023-03-03 14:12:10.054 -08:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-03 14:12:10.054 -08:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-03 14:12:10.089 -08:00 [DBG] Connection id "0HMOS6HAMV4QG" stopped.
2023-03-03 14:12:10.089 -08:00 [DBG] Connection id "0HMOS6HAMV4QF" stopped.
2023-03-03 14:12:10.092 -08:00 [DBG] Connection id "0HMOS6HAMV4QF" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-03 14:12:10.092 -08:00 [DBG] Connection id "0HMOS6HAMV4QG" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-03 14:12:10.341 -08:00 [DBG] Connection id "0HMOS6HAMV4QH" accepted.
2023-03-03 14:12:10.341 -08:00 [DBG] Connection id "0HMOS6HAMV4QH" started.
2023-03-03 14:12:10.396 -08:00 [DBG] Connection 0HMOS6HAMV4QH established using the following protocol: "Tls12"
2023-03-03 14:12:10.455 -08:00 [INF] Request starting HTTP/2 GET https://localhost:7152/swagger/index.html - -
2023-03-03 14:12:10.500 -08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-03-03 14:12:10.534 -08:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-03-03 14:12:10.534 -08:00 [DBG] Request did not match any endpoints
2023-03-03 14:12:10.666 -08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-03-03 14:12:10.814 -08:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-03-03 14:12:10.820 -08:00 [INF] Request finished HTTP/2 GET https://localhost:7152/swagger/index.html - - - 200 - text/html;charset=utf-8 367.9475ms
2023-03-03 14:12:10.927 -08:00 [INF] Request starting HTTP/2 GET https://localhost:7152/_vs/browserLink - -
2023-03-03 14:12:10.928 -08:00 [INF] Request starting HTTP/2 GET https://localhost:7152/_framework/aspnetcore-browser-refresh.js - -
2023-03-03 14:12:10.938 -08:00 [INF] Request finished HTTP/2 GET https://localhost:7152/_framework/aspnetcore-browser-refresh.js - - - 200 12006 application/javascript;+charset=utf-8 10.1507ms
2023-03-03 14:12:10.950 -08:00 [INF] Request finished HTTP/2 GET https://localhost:7152/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 22.9110ms
2023-03-03 14:12:11.095 -08:00 [INF] Request starting HTTP/2 GET https://localhost:7152/swagger/v1/swagger.json - -
2023-03-03 14:12:11.096 -08:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-03-03 14:12:11.096 -08:00 [DBG] Request did not match any endpoints
2023-03-03 14:12:11.240 -08:00 [INF] Request finished HTTP/2 GET https://localhost:7152/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 144.4531ms
2023-03-03 14:12:25.637 -08:00 [INF] Request starting HTTP/2 GET https://localhost:7152/api/Airliner - -
2023-03-03 14:12:25.643 -08:00 [DBG] 1 candidate(s) found for the request path '/api/Airliner'
2023-03-03 14:12:25.647 -08:00 [DBG] Endpoint 'flight_data_server.Controllers.AirlinerController.GetAirliners (flight_data_server)' with route pattern 'api/Airliner' is valid for the request path '/api/Airliner'
2023-03-03 14:12:25.647 -08:00 [DBG] Request matched endpoint 'flight_data_server.Controllers.AirlinerController.GetAirliners (flight_data_server)'
2023-03-03 14:12:25.648 -08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-03-03 14:12:25.721 -08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-03-03 14:12:25.722 -08:00 [INF] Executing endpoint 'flight_data_server.Controllers.AirlinerController.GetAirliners (flight_data_server)'
2023-03-03 14:12:25.738 -08:00 [INF] Route matched with {action = "GetAirliners", controller = "Airliner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[flight_data_server.Models.APIResponse]] GetAirliners() on controller flight_data_server.Controllers.AirlinerController (flight_data_server).
2023-03-03 14:12:25.739 -08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-03 14:12:25.739 -08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-03 14:12:25.739 -08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-03 14:12:25.739 -08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-03 14:12:25.739 -08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-03 14:12:25.740 -08:00 [DBG] Executing controller factory for controller flight_data_server.Controllers.AirlinerController (flight_data_server)
2023-03-03 14:12:25.883 -08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-03 14:12:26.555 -08:00 [INF] Entity Framework Core 6.0.13 initialized 'AirlinerDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.13' with options: None
2023-03-03 14:12:26.555 -08:00 [DBG] Executed controller factory for controller flight_data_server.Controllers.AirlinerController (flight_data_server)
2023-03-03 14:12:26.557 -08:00 [INF] Getting All Values
2023-03-03 14:12:26.628 -08:00 [DBG] Compiling query expression: 
'DbSet<Airliner>()'
2023-03-03 14:12:26.817 -08:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Airliner>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Airliner.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Airliner.AirlinerCallSign (string) Required, 1], [Property: Airliner.AirlinerName (string) Required, 2] }
        SELECT a.Id, a.AirlinerCallSign, a.AirlinerName
        FROM Airliner AS a), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Airliner>, 
    flight_data_server.Database.AirlinerDBContext, 
    False, 
    False, 
    True
)'
2023-03-03 14:12:26.871 -08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-03 14:12:26.916 -08:00 [DBG] Created DbCommand for 'ExecuteReader' (41ms).
2023-03-03 14:12:26.928 -08:00 [DBG] Opening connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 14:12:27.677 -08:00 [DBG] Opened connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 14:12:27.690 -08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AirlinerCallSign], [a].[AirlinerName]
FROM [Airliner] AS [a]
2023-03-03 14:12:27.815 -08:00 [INF] Executed DbCommand (126ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AirlinerCallSign], [a].[AirlinerName]
FROM [Airliner] AS [a]
2023-03-03 14:12:27.851 -08:00 [DBG] Context 'AirlinerDBContext' started tracking 'Airliner' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-03 14:12:27.885 -08:00 [DBG] A data reader was disposed.
2023-03-03 14:12:27.893 -08:00 [DBG] Closing connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 14:12:27.902 -08:00 [DBG] Closed connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 14:12:27.908 -08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-03-03 14:12:27.910 -08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-03-03 14:12:27.911 -08:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-03-03 14:12:27.911 -08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-03-03 14:12:27.911 -08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-03-03 14:12:27.911 -08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-03-03 14:12:27.911 -08:00 [INF] Executing OkObjectResult, writing value of type 'flight_data_server.Models.APIResponse'.
2023-03-03 14:12:27.921 -08:00 [INF] Executed action flight_data_server.Controllers.AirlinerController.GetAirliners (flight_data_server) in 2177.7664ms
2023-03-03 14:12:27.923 -08:00 [INF] Executed endpoint 'flight_data_server.Controllers.AirlinerController.GetAirliners (flight_data_server)'
2023-03-03 14:12:27.929 -08:00 [DBG] 'AirlinerDBContext' disposed.
2023-03-03 14:12:27.933 -08:00 [INF] Request finished HTTP/2 GET https://localhost:7152/api/Airliner - - - 200 - application/json;+charset=utf-8 2296.0284ms
2023-03-03 14:15:18.804 -08:00 [DBG] Connection id "0HMOS6HAMV4QH" received FIN.
2023-03-03 14:15:18.814 -08:00 [DBG] Connection id "0HMOS6HAMV4QH" is closing.
2023-03-03 14:15:18.817 -08:00 [DBG] Connection id "0HMOS6HAMV4QH" is closed. The last processed stream ID was 23.
2023-03-03 14:15:18.820 -08:00 [DBG] Connection id "0HMOS6HAMV4QH" sending FIN because: "The client closed the connection."
2023-03-03 14:15:18.822 -08:00 [DBG] Connection id "0HMOS6HAMV4QH" stopped.
2023-03-03 14:20:23.277 -08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-03 14:20:23.747 -08:00 [INF] Entity Framework Core 6.0.13 initialized 'AirlinerDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.13' with options: None
2023-03-03 14:20:23.855 -08:00 [DBG] DetectChanges starting for 'AirlinerDBContext'.
2023-03-03 14:20:23.857 -08:00 [DBG] DetectChanges completed for 'AirlinerDBContext'.
2023-03-03 14:20:23.877 -08:00 [DBG] Generating up script for migration '20230303210654_flightdb2'.
2023-03-03 14:20:23.900 -08:00 [DBG] 'AirlinerDBContext' disposed.
2023-03-03 14:20:25.964 -08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-03 14:20:26.440 -08:00 [INF] Entity Framework Core 6.0.13 initialized 'FlightDataDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.13' with options: None
2023-03-03 14:20:26.550 -08:00 [DBG] DetectChanges starting for 'FlightDataDBContext'.
2023-03-03 14:20:26.552 -08:00 [DBG] DetectChanges completed for 'FlightDataDBContext'.
2023-03-03 14:20:26.573 -08:00 [DBG] Generating up script for migration '20230303210728_flightdb2'.
2023-03-03 14:20:26.585 -08:00 [DBG] 'FlightDataDBContext' disposed.
2023-03-03 14:30:25.276 -08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-03-03 14:30:25.405 -08:00 [DBG] Hosting starting
2023-03-03 14:30:25.456 -08:00 [INF] User profile is available. Using 'C:\Users\erolg\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-03-03 14:30:25.458 -08:00 [DBG] Reading data from file 'C:\Users\erolg\AppData\Local\ASP.NET\DataProtection-Keys\key-322def36-0d4b-4319-822b-9a978d52a69b.xml'.
2023-03-03 14:30:25.467 -08:00 [DBG] Found key {322def36-0d4b-4319-822b-9a978d52a69b}.
2023-03-03 14:30:25.481 -08:00 [DBG] Considering key {322def36-0d4b-4319-822b-9a978d52a69b} with expiration date 2023-04-14 01:02:54Z as default key.
2023-03-03 14:30:25.483 -08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-03-03 14:30:25.486 -08:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-03-03 14:30:25.487 -08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-03-03 14:30:25.491 -08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-03-03 14:30:25.493 -08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-03-03 14:30:25.495 -08:00 [DBG] Using key {322def36-0d4b-4319-822b-9a978d52a69b} as the default key.
2023-03-03 14:30:25.496 -08:00 [DBG] Key ring with default key {322def36-0d4b-4319-822b-9a978d52a69b} was loaded during application startup.
2023-03-03 14:30:25.668 -08:00 [DBG] Using development certificate: CN=localhost (Thumbprint: E245E95D59854C93E6C7A7248A3D9D7BFC30FCBE)
2023-03-03 14:30:25.711 -08:00 [INF] Now listening on: https://localhost:7152
2023-03-03 14:30:25.711 -08:00 [INF] Now listening on: http://localhost:5035
2023-03-03 14:30:25.711 -08:00 [DBG] Loaded hosting startup assembly flight_data_server
2023-03-03 14:30:25.711 -08:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-03-03 14:30:25.711 -08:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-03-03 14:30:25.711 -08:00 [INF] Application started. Press Ctrl+C to shut down.
2023-03-03 14:30:25.711 -08:00 [INF] Hosting environment: Development
2023-03-03 14:30:25.711 -08:00 [INF] Content root path: D:\.NET\Flight-Data-Server-Asp.Net\flight_data_server\
2023-03-03 14:30:25.711 -08:00 [DBG] Hosting started
2023-03-03 14:30:25.805 -08:00 [DBG] Connection id "0HMOS6RH9302U" received FIN.
2023-03-03 14:30:25.813 -08:00 [DBG] Connection id "0HMOS6RH9302U" accepted.
2023-03-03 14:30:25.814 -08:00 [DBG] Connection id "0HMOS6RH9302U" started.
2023-03-03 14:30:25.828 -08:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-03 14:30:25.871 -08:00 [DBG] Connection id "0HMOS6RH9302U" stopped.
2023-03-03 14:30:25.874 -08:00 [DBG] Connection id "0HMOS6RH9302U" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-03 14:30:26.072 -08:00 [DBG] Connection id "0HMOS6RH9302V" accepted.
2023-03-03 14:30:26.072 -08:00 [DBG] Connection id "0HMOS6RH9302V" started.
2023-03-03 14:30:26.124 -08:00 [DBG] Connection 0HMOS6RH9302V established using the following protocol: "Tls12"
2023-03-03 14:30:26.183 -08:00 [INF] Request starting HTTP/2 GET https://localhost:7152/swagger/index.html - -
2023-03-03 14:30:26.221 -08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-03-03 14:30:26.246 -08:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-03-03 14:30:26.247 -08:00 [DBG] Request did not match any endpoints
2023-03-03 14:30:26.357 -08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-03-03 14:30:26.483 -08:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-03-03 14:30:26.487 -08:00 [INF] Request finished HTTP/2 GET https://localhost:7152/swagger/index.html - - - 200 - text/html;charset=utf-8 308.2501ms
2023-03-03 14:30:26.528 -08:00 [INF] Request starting HTTP/2 GET https://localhost:7152/swagger/swagger-ui.css - -
2023-03-03 14:30:26.528 -08:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2023-03-03 14:30:26.528 -08:00 [DBG] Request did not match any endpoints
2023-03-03 14:30:26.538 -08:00 [DBG] The file transmission was cancelled
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Threading.CancellationToken.ThrowIfCancellationRequested()
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.SendAsync()
2023-03-03 14:30:26.540 -08:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-03-03 14:30:26.540 -08:00 [INF] Request finished HTTP/2 GET https://localhost:7152/swagger/swagger-ui.css - - - 0 143632 text/css 12.0767ms
2023-03-03 14:30:26.591 -08:00 [INF] Request starting HTTP/2 GET https://localhost:7152/_framework/aspnetcore-browser-refresh.js - -
2023-03-03 14:30:26.591 -08:00 [INF] Request starting HTTP/2 GET https://localhost:7152/_vs/browserLink - -
2023-03-03 14:30:26.601 -08:00 [INF] Request finished HTTP/2 GET https://localhost:7152/_framework/aspnetcore-browser-refresh.js - - - 200 12006 application/javascript;+charset=utf-8 10.0259ms
2023-03-03 14:30:26.612 -08:00 [INF] Request finished HTTP/2 GET https://localhost:7152/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 20.8966ms
2023-03-03 14:30:26.683 -08:00 [INF] Request starting HTTP/2 GET https://localhost:7152/swagger/favicon-32x32.png - -
2023-03-03 14:30:26.683 -08:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2023-03-03 14:30:26.683 -08:00 [DBG] Request did not match any endpoints
2023-03-03 14:30:26.685 -08:00 [DBG] The file transmission was cancelled
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Threading.CancellationToken.ThrowIfCancellationRequested()
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.SendAsync()
2023-03-03 14:30:26.685 -08:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2023-03-03 14:30:26.685 -08:00 [INF] Request finished HTTP/2 GET https://localhost:7152/swagger/favicon-32x32.png - - - 0 628 image/png 2.4517ms
2023-03-03 14:30:26.766 -08:00 [INF] Request starting HTTP/2 GET https://localhost:7152/swagger/v1/swagger.json - -
2023-03-03 14:30:26.766 -08:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-03-03 14:30:26.766 -08:00 [DBG] Request did not match any endpoints
2023-03-03 14:30:26.919 -08:00 [INF] Request finished HTTP/2 GET https://localhost:7152/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 153.7033ms
2023-03-03 14:31:26.527 -08:00 [INF] Request starting HTTP/2 POST https://localhost:7152/api/UsersAuth/login application/json 50
2023-03-03 14:31:26.534 -08:00 [DBG] 1 candidate(s) found for the request path '/api/UsersAuth/login'
2023-03-03 14:31:26.538 -08:00 [DBG] Endpoint 'flight_data_server.Controllers.UsersController.Login (flight_data_server)' with route pattern 'api/UsersAuth/login' is valid for the request path '/api/UsersAuth/login'
2023-03-03 14:31:26.538 -08:00 [DBG] Request matched endpoint 'flight_data_server.Controllers.UsersController.Login (flight_data_server)'
2023-03-03 14:31:26.538 -08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-03-03 14:31:26.538 -08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-03-03 14:31:26.611 -08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-03-03 14:31:26.611 -08:00 [INF] Executing endpoint 'flight_data_server.Controllers.UsersController.Login (flight_data_server)'
2023-03-03 14:31:26.638 -08:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(flight_data_server.Models.User.LoginRequest) on controller flight_data_server.Controllers.UsersController (flight_data_server).
2023-03-03 14:31:26.638 -08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-03 14:31:26.638 -08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-03 14:31:26.639 -08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-03 14:31:26.639 -08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-03 14:31:26.639 -08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-03 14:31:26.639 -08:00 [DBG] Executing controller factory for controller flight_data_server.Controllers.UsersController (flight_data_server)
2023-03-03 14:31:26.783 -08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-03 14:31:26.808 -08:00 [DBG] Executed controller factory for controller flight_data_server.Controllers.UsersController (flight_data_server)
2023-03-03 14:31:26.819 -08:00 [DBG] Attempting to bind parameter 'model' of type 'flight_data_server.Models.User.LoginRequest' ...
2023-03-03 14:31:26.821 -08:00 [DBG] Attempting to bind parameter 'model' of type 'flight_data_server.Models.User.LoginRequest' using the name '' in request data ...
2023-03-03 14:31:26.821 -08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-03-03 14:31:26.825 -08:00 [DBG] Connection id "0HMOS6RH9302V", Request id "0HMOS6RH9302V:0000001B": started reading request body.
2023-03-03 14:31:26.825 -08:00 [DBG] Connection id "0HMOS6RH9302V", Request id "0HMOS6RH9302V:0000001B": done reading request body.
2023-03-03 14:31:26.830 -08:00 [DBG] JSON input formatter succeeded, deserializing to type 'flight_data_server.Models.User.LoginRequest'
2023-03-03 14:31:26.830 -08:00 [DBG] Done attempting to bind parameter 'model' of type 'flight_data_server.Models.User.LoginRequest'.
2023-03-03 14:31:26.830 -08:00 [DBG] Done attempting to bind parameter 'model' of type 'flight_data_server.Models.User.LoginRequest'.
2023-03-03 14:31:26.830 -08:00 [DBG] Attempting to validate the bound parameter 'model' of type 'flight_data_server.Models.User.LoginRequest' ...
2023-03-03 14:31:26.837 -08:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'flight_data_server.Models.User.LoginRequest'.
2023-03-03 14:31:27.472 -08:00 [INF] Entity Framework Core 6.0.13 initialized 'UserDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.13' with options: None
2023-03-03 14:31:27.549 -08:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.UserName.ToLower() == __ToLower_0 && u.Password == __loginRequest_Password_1)'
2023-03-03 14:31:27.933 -08:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.UserId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Password (string), 1], [Property: User.Role (string), 2], [Property: User.UserName (string), 3] }
        SELECT TOP(1) u.UserId, u.Password, u.Role, u.UserName
        FROM UserData AS u
        WHERE (LOWER(u.UserName) == @__ToLower_0) && (u.Password == @__loginRequest_Password_1)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
    flight_data_server.Database.UserDBContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-03-03 14:31:27.996 -08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-03 14:31:28.041 -08:00 [DBG] Created DbCommand for 'ExecuteReader' (41ms).
2023-03-03 14:31:28.055 -08:00 [DBG] Opening connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 14:31:28.846 -08:00 [DBG] Opened connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 14:31:28.863 -08:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequest_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Password], [u].[Role], [u].[UserName]
FROM [UserData] AS [u]
WHERE (LOWER([u].[UserName]) = @__ToLower_0) AND ([u].[Password] = @__loginRequest_Password_1)
2023-03-03 14:31:28.999 -08:00 [INF] Executed DbCommand (143ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequest_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Password], [u].[Role], [u].[UserName]
FROM [UserData] AS [u]
WHERE (LOWER([u].[UserName]) = @__ToLower_0) AND ([u].[Password] = @__loginRequest_Password_1)
2023-03-03 14:31:29.011 -08:00 [DBG] A data reader was disposed.
2023-03-03 14:31:29.015 -08:00 [DBG] Closing connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 14:31:29.024 -08:00 [DBG] Closed connection to database 'flight-database' on server 'tcp:flight-database.database.windows.net,1433'.
2023-03-03 14:31:29.026 -08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-03-03 14:31:29.027 -08:00 [DBG] No information found on request to perform content negotiation.
2023-03-03 14:31:29.027 -08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-03-03 14:31:29.027 -08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-03-03 14:31:29.028 -08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-03-03 14:31:29.028 -08:00 [INF] Executing BadRequestObjectResult, writing value of type 'flight_data_server.Models.APIResponse'.
2023-03-03 14:31:29.036 -08:00 [INF] Executed action flight_data_server.Controllers.UsersController.Login (flight_data_server) in 2392.8704ms
2023-03-03 14:31:29.037 -08:00 [INF] Executed endpoint 'flight_data_server.Controllers.UsersController.Login (flight_data_server)'
2023-03-03 14:31:29.041 -08:00 [DBG] 'UserDBContext' disposed.
2023-03-03 14:31:29.045 -08:00 [INF] Request finished HTTP/2 POST https://localhost:7152/api/UsersAuth/login application/json 50 - 400 - application/json;+charset=utf-8 2517.6128ms
2023-03-03 14:35:22.097 -08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-03-03 14:35:22.250 -08:00 [DBG] Hosting starting
2023-03-03 14:35:22.307 -08:00 [INF] User profile is available. Using 'C:\Users\erolg\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-03-03 14:35:22.310 -08:00 [DBG] Reading data from file 'C:\Users\erolg\AppData\Local\ASP.NET\DataProtection-Keys\key-322def36-0d4b-4319-822b-9a978d52a69b.xml'.
2023-03-03 14:35:22.325 -08:00 [DBG] Found key {322def36-0d4b-4319-822b-9a978d52a69b}.
2023-03-03 14:35:22.347 -08:00 [DBG] Considering key {322def36-0d4b-4319-822b-9a978d52a69b} with expiration date 2023-04-14 01:02:54Z as default key.
2023-03-03 14:35:22.351 -08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-03-03 14:35:22.357 -08:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-03-03 14:35:22.359 -08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-03-03 14:35:22.365 -08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-03-03 14:35:22.368 -08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-03-03 14:35:22.372 -08:00 [DBG] Using key {322def36-0d4b-4319-822b-9a978d52a69b} as the default key.
2023-03-03 14:35:22.372 -08:00 [DBG] Key ring with default key {322def36-0d4b-4319-822b-9a978d52a69b} was loaded during application startup.
2023-03-03 14:35:22.563 -08:00 [DBG] Using development certificate: CN=localhost (Thumbprint: E245E95D59854C93E6C7A7248A3D9D7BFC30FCBE)
2023-03-03 14:35:22.666 -08:00 [INF] Now listening on: https://localhost:7152
2023-03-03 14:35:22.666 -08:00 [INF] Now listening on: http://localhost:5035
2023-03-03 14:35:22.667 -08:00 [DBG] Loaded hosting startup assembly flight_data_server
2023-03-03 14:35:22.667 -08:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-03-03 14:35:22.667 -08:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-03-03 14:35:22.667 -08:00 [INF] Application started. Press Ctrl+C to shut down.
2023-03-03 14:35:22.667 -08:00 [INF] Hosting environment: Development
2023-03-03 14:35:22.667 -08:00 [INF] Content root path: D:\.NET\Flight-Data-Server-Asp.Net\flight_data_server\
2023-03-03 14:35:22.667 -08:00 [DBG] Hosting started
2023-03-03 14:35:22.697 -08:00 [DBG] Connection id "0HMOS6U9OEAAC" accepted.
2023-03-03 14:35:22.697 -08:00 [DBG] Connection id "0HMOS6U9OEAAD" accepted.
2023-03-03 14:35:22.701 -08:00 [DBG] Connection id "0HMOS6U9OEAAD" started.
2023-03-03 14:35:22.701 -08:00 [DBG] Connection id "0HMOS6U9OEAAC" started.
2023-03-03 14:35:22.704 -08:00 [DBG] Connection id "0HMOS6U9OEAAC" received FIN.
2023-03-03 14:35:22.704 -08:00 [DBG] Connection id "0HMOS6U9OEAAD" received FIN.
2023-03-03 14:35:22.718 -08:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-03 14:35:22.718 -08:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-03 14:35:22.758 -08:00 [DBG] Connection id "0HMOS6U9OEAAD" stopped.
2023-03-03 14:35:22.758 -08:00 [DBG] Connection id "0HMOS6U9OEAAC" stopped.
2023-03-03 14:35:22.760 -08:00 [DBG] Connection id "0HMOS6U9OEAAD" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-03 14:35:22.760 -08:00 [DBG] Connection id "0HMOS6U9OEAAC" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-03 14:35:23.042 -08:00 [DBG] Connection id "0HMOS6U9OEAAE" accepted.
2023-03-03 14:35:23.042 -08:00 [DBG] Connection id "0HMOS6U9OEAAE" started.
2023-03-03 14:35:23.092 -08:00 [DBG] Connection 0HMOS6U9OEAAE established using the following protocol: "Tls12"
2023-03-03 14:35:23.158 -08:00 [INF] Request starting HTTP/2 GET https://localhost:7152/swagger/index.html - -
2023-03-03 14:35:23.197 -08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-03-03 14:35:23.220 -08:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-03-03 14:35:23.220 -08:00 [DBG] Request did not match any endpoints
2023-03-03 14:35:23.335 -08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-03-03 14:35:23.478 -08:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-03-03 14:35:23.482 -08:00 [INF] Request finished HTTP/2 GET https://localhost:7152/swagger/index.html - - - 200 - text/html;charset=utf-8 328.6473ms
2023-03-03 14:35:23.598 -08:00 [INF] Request starting HTTP/2 GET https://localhost:7152/_framework/aspnetcore-browser-refresh.js - -
2023-03-03 14:35:23.599 -08:00 [INF] Request starting HTTP/2 GET https://localhost:7152/_vs/browserLink - -
2023-03-03 14:35:23.609 -08:00 [INF] Request finished HTTP/2 GET https://localhost:7152/_framework/aspnetcore-browser-refresh.js - - - 200 12006 application/javascript;+charset=utf-8 10.6120ms
2023-03-03 14:35:23.620 -08:00 [INF] Request finished HTTP/2 GET https://localhost:7152/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 21.1870ms
2023-03-03 14:35:23.803 -08:00 [INF] Request starting HTTP/2 GET https://localhost:7152/swagger/v1/swagger.json - -
2023-03-03 14:35:23.803 -08:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-03-03 14:35:23.803 -08:00 [DBG] Request did not match any endpoints
2023-03-03 14:35:23.958 -08:00 [INF] Request finished HTTP/2 GET https://localhost:7152/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 154.9092ms
2023-03-03 14:38:13.986 -08:00 [DBG] Connection id "0HMOS6U9OEAAE" is closing.
2023-03-03 14:38:13.987 -08:00 [DBG] Connection id "0HMOS6U9OEAAE" received FIN.
2023-03-03 14:38:13.993 -08:00 [DBG] Connection id "0HMOS6U9OEAAE" sending FIN because: "The client closed the connection."
2023-03-03 14:38:13.997 -08:00 [DBG] Connection id "0HMOS6U9OEAAE" is closed. The last processed stream ID was 21.
2023-03-03 14:38:13.999 -08:00 [DBG] Connection id "0HMOS6U9OEAAE" stopped.
